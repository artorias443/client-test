(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"/9Zp":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIaADAAQAAAABAAAAIQAAAAAWQIAAAAAG20lEQVRYCc1XfWxTVRQ/57VdoZu2HR/ikOC6MoITtnWKUSEIIlFJTIziVyB+BMT4hS7KH0YRRWOCQQWNooCof5gYEgySqEj8ligJtBvLVMbWBT9AYW4tYxtr33vH333tK137hoB/6E367rnn/O655557zrm3RP+Dxqdjw/7qitHH9f4HmWm8i7VNte3dPzjNi1b6b2bm64l4T8nIio01ra0pJ1wh75RGHGqo8B3uHniUWJaTyLnZyQaR9khDZ89rtrLOqy4c0fNLzysitNTmEVMHjFneEE9szfGGIYY1Ym8ocDcJPU8k56u58MIBJt5tiiy0dDF/h/5tjcgvJA/AgHAW9zH6BozPy+K+ZTc9FGlLNFtjhw90FLdYKDgfO3/bMoCpizV+uD4YrqmPJxZpGt0Ly7shn6EwMOplZQAMTDBr90fiyfnekSVq/BxMHwBmJumyuykcqC9eKcNx9EQ0FFgjIo3YfZuftOlV8Z5kvoID4fJzj4lxH5t8pTC5NOJdrlJz/bSWZE8+rjlcfoFhmj9BVxmO8EkcITxb3NzFLNiv0TdiUCNkE0PBUD/R3iGwSe3dx8BYPYTpNBBPSuQEDIAJTDEniCVzEvg03y7Fh5u9+5KdmbN1Av4DT2iwxoa4mVtsurB3jInjMjgmCzwxrf7qw4WTTndskOdXG5vWzEqbLuwdjdB080YFREzs4y1bkJJn1yLtRzqgpFfNxvHePZyWIiOi4cAsk8ynrAlCLw43cd9Uf7C5yj+nedKoy1SdcMKhcAkLrc3okrsQ8I0I0qJksBix0JhJJqdma8IzAbpDVBwxb43EEzcVKm+e7K/U07wRATMnJ2PSoWgTUvOxmtajx3N8EAfCYW+vcTQGnVMsPmIDHv4au/+idtEj23jlSpNjleXXCBk7AMpZiBxf5/WNf7yw7Maqyq8Q0/wMxalUKYSyFAqaWxltjYk7Sz2+6ZPbDnVZC2Y/quz36X3vIdCvy+dj0pL6zuRGbN5cqgyAwnZ8n2EP10U6E8sKDVAlXMR41zIAJVkj1zwUsDKvr8SPeffgl4Sssi/d93r+QopWRtV3JOZjjbnArUV/RPGFeJHq3XDrRYrAZl5qiPe8kaGLv4cTfQsxS1XCPrdb5k1r645TZ7cCpvHbjFj6C8G3DRta0BQur6lr727N16LiA+PP1S9aGYAT5CEYXa0wyo3jFAHMKVMRi1+qcLjMtk9rS8YtOu8TaU98BCW/KJaIeUmeqJhkPpRljlGBiopL1vmapJ0oRp/k4DytiwxW2ApOCm1KxJJBbxZrC4b2TDKQ5bho9myUfaKEYrBIMCtw7liaLYHI5U6A1poxZfDWVCVDhO9zwtg8U9gq5fBcL3/1la7hoKyqhol1smCBywYW9rhJdyge8JfvrQqefDco3sqVWmogvS4TtNw7osS3u3C+PZaGBg92nElXooOKz9GQfz1cbSmFIYg03k4l7ici+7uK3B6tCmwQUxZbCpk/xE52wIM4TrkVOqYrvrrq6zuSGyxM3qcpNLrakPQqzLkWQZN5IDG93hBPPsBWoZLUp8CHcnPwhnAx31LXkfgyxwOhXD44kNqABW/L51u0KljCLyC9VxTK1LMPi29GEGaOAe8MJMIu8vLiyE+Jg9h8xp0t779abejmHET2Kri8XOWyd+Q5U2paf7PyMF8x0vEGMgiKKYLZuOrVXe/ZFIl37cnHKTq7SRUjIxAzTTjWB+sm1O5WsWBjLSPsgeqjUwIT6QQ14XwDMORNvJTuy5efKY3j3gnPzYWuA+OCpXUVew8po4c0lR1DmnIPrphnLabg/P5Fy1RZmm2pYG2FkwFKVmSEYro1+Vr18MZEdVsq+mza0WODKmWtjHO5zWEzxtEIHUXdXlT6R3hs+ox73Syx5+h6ybDp7/zGFJ4FLyCg+ffajj+ty8ZWZvct4bFVaWOwnjXt8OixpdEJ3/9mV0EbQqZfWiiJEIY3WPRr0LfnhHmEoycgz6SSUGmsyr9EFSN7TnNV8GKk3CcpY7AdWbTFNM3vjvzR+2ssFFhmFaIsUKUzHaNlCEhlBFwrY20dhX3O7fmCnyePPqc/nd6DqK5WfHgEKSaNIMaj0LwFvjeLj2ORUoytxzDoPW63e5GumwhG8+kcn/ig11cWcUp3S39WWVFnGZLSl2O3jTDAlw9Avne6NFlc25H8QpX6WHTn/ShEa3CCHuwKa9sxxf0Yr/H6PKsLX1xD9eWPHOim6lHjRTdWYZE7oVwdyw5PGd1e+EenKRScgX9jHyCWKoAx4L13yONe4VT+C5dxPI5CkBrjjMcZaTMwdX/X/uwDpQim/pn1msZ08nh+PJ3FixT8l4y/AYRnrpKTA83kAAAAAElFTkSuQmCC"},"7QFr":function(e,t,a){e.exports={personBox:"antd-pro-components-before-step-two-index-personBox",personNameLabel:"antd-pro-components-before-step-two-index-personNameLabel",loginOutBtn:"antd-pro-components-before-step-two-index-loginOutBtn",formBtn:"antd-pro-components-before-step-two-index-formBtn",lf16:"antd-pro-components-before-step-two-index-lf16",textRight:"antd-pro-components-before-step-two-index-textRight",noEmpower:"antd-pro-components-before-step-two-index-noEmpower"}},GutY:function(e,t,a){"use strict";a.r(t);a("+L6B");var n=a("2/Rp"),r=(a("5NDa"),a("5rEg")),c=(a("Znn+"),a("ZTPi")),s=a("qLMh"),o=a("9og8"),l=(a("y8nQ"),a("Vl3Y")),i=a("tJVT"),p=(a("OaEy"),a("2fM7")),u=a("q1tI"),m=a.n(u),d=a("9kvl"),g=a("Ty5D"),b=a("D1Df"),f=a.n(b),O=a("Y0q2"),y=a.n(O),S=a("/9Zp"),j=a.n(S),x=a("kydr"),h=a.n(x),E=a("eQXm"),N=a.n(E),v=a("biJ1"),k=a.n(v),I=a("H0OL"),w=a("ETfb"),T=a("e3qL"),C=a("1JJI"),A=a("0Owb"),M=(a("14J3"),a("BMrR")),B=(a("jCWc"),a("kPKH")),L=(a("fOrg"),a("+KLJ")),D=(a("5Dmo"),a("3S7+")),R=a("Tex+"),P=a("+n12"),F=a("7QFr"),W=a.n(F),U=a("OVbu"),G=a.n(U),K=a("lht2"),q=a.n(K),V=a("qBuu"),z=a("JYHG"),H=a("z0WU"),Y=function(e){var t=e.changeVisible,a=e.clientCode,r=e.SignatureMode,d=e.loginExit,g=e.location,b=g.pathname,f=g.query;a||(a=b.match(/\/(\S*)\//)[1]),(1!=f.isMainFlow||a&&"0"!=a)&&!localStorage.getItem("surredClientCode")||localStorage.getItem("surredClientCode")&&(a=localStorage.getItem("surredClientCode"));var O=Object(u["useState"])(null),y=Object(i["a"])(O,2),S=y[0],j=y[1],x=Object(u["useState"])(null),E=Object(i["a"])(x,2),N=E[0],v=E[1],k=Object(u["useState"])(null),I=Object(i["a"])(k,2),w=I[0],T=I[1],C=Object(u["useState"])(null),F=Object(i["a"])(C,2),U=F[0],K=F[1],Y=Object(u["useState"])(null),_=Object(i["a"])(Y,2),J=_[0],X=_[1],Q=Object(u["useState"])(null),Z=Object(i["a"])(Q,2),$=Z[0],ee=Z[1],te=Object(u["useState"])(0),ae=Object(i["a"])(te,2),ne=ae[0],re=ae[1],ce=Object(u["useState"])(null),se=Object(i["a"])(ce,2),oe=se[0],le=se[1],ie=Object(u["useState"])(null),pe=Object(i["a"])(ie,2),ue=pe[0],me=pe[1],de=Object(u["useState"])(!1),ge=Object(i["a"])(de,2),be=ge[0],fe=ge[1],Oe=Object(u["useState"])(G.a),ye=Object(i["a"])(Oe,2),Se=ye[0],je=ye[1],xe=Object(u["useState"])(null),he=Object(i["a"])(xe,2),Ee=he[0],Ne=he[1],ve=Object(u["useState"])(null),ke=Object(i["a"])(ve,2),Ie=ke[0],we=ke[1],Te=Object(u["useState"])(null),Ce=Object(i["a"])(Te,2),Ae=Ce[0],Me=Ce[1],Be=Object(u["useState"])(null),Le=Object(i["a"])(Be,2),De=Le[0],Re=Le[1],Pe=Object(u["useState"])(null),Fe=Object(i["a"])(Pe,2),We=Fe[0],Ue=Fe[1],Ge=Object(u["useState"])(null),Ke=Object(i["a"])(Ge,2),qe=Ke[0],Ve=Ke[1],ze=l["a"].useForm(),He=Object(i["a"])(ze,1),Ye=He[0],_e={labelCol:{span:6},wrapperCol:{span:18}},Je=function(e){return"person"==e?"\u4e2a\u4eba":"company"==e?"\u4f01\u4e1a":void 0},Xe=function(e){return"person"==e?"1":"company"==e?"2":void 0};Object(u["useEffect"])((function(){Object(o["a"])(Object(s["a"])().mark((function e(){var n,c,o,l,i,p;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f.baseUrl&&Object(H["s"])(f.baseUrl),f.XServiceAddress&&Object(H["t"])(f.XServiceAddress),e.next=4,Object(R["c"])(a,"TG_TIMEVALE");case 4:if(n=e.sent,n){e.next=11;break}return fe(!0),me(!0),e.abrupt("return");case 11:me(!1);case 12:return e.next=14,Object(R["C"])(a,"TG_TIMEVALE");case 14:return c=e.sent,c&&c instanceof Array&&re(c.length),e.next=18,Object(R["r"])(a);case 18:return o=e.sent,e.next=21,Object(R["u"])(a,r,o,"CLOUD");case 21:l=e.sent,l&&("string"==typeof l?(j(l),l.indexOf("\u65e0\u6743")>-1?je(q.a):je(G.a)):(i=[],p={person:[],company:[]},l.forEach((function(e,t){if(1==e.subjectType){-1==i.indexOf("person")&&(i.push("person"),ee(e.identityInfo.userName));var n=e.identityInfo.ouid;Object(R["p"])("TG_TIMEVALE",a,n,1).then((function(e){we(e)})),Ue(n),localStorage.setItem("ouid",n),p.person.push(e.identityInfo.userName)}else if(2==e.subjectType){if(-1==i.indexOf("company")&&i.push("company"),e.identityInfo.isMainOrg){var r=e.identityInfo.orgId;Ve(r),localStorage.setItem("orgId",r),Object(R["p"])("TG_TIMEVALE",a,r,2).then((function(e){Ne(e)}))}p.company.push(e.identityInfo.orgName)}})),v(i),T(p),K(p[i[0]][0]),X(p[i[0]]),le(l))),window!==window.parent?(t(!1),window.parent.location.href=location.href,window.parent.location.reload()):(t(!0),fe(!0));case 24:case"end":return e.stop()}}),e)})))()}),[]);var Qe=function(e){e&&(Ne(e),setAuthSuccess(!0),Me(null))},Ze=function(e){e&&(Ne(e),setAuthSuccess(!1))};Object(u["useEffect"])((function(){Object(o["a"])(Object(s["a"])().mark((function e(){var t,n,r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==Ie||null==Ee){e.next=20;break}if(t="CLOUD","string"==typeof Ie||null==Ie){e.next=20;break}if("string"==typeof Ee||null==Ee){e.next=20;break}if(!(0==Ee.alreadyRealname&&0==Ie.alreadyRealname||0==Ee.alreadyRealname&&1==Ie.alreadyRealname)){e.next=11;break}return e.next=7,Object(R["q"])("TG_TIMEVALE",a,localStorage.getItem("orgId"),2,"".concat(location.href,"&time=").concat(Object(P["G"])(),"&sourceType=").concat(t));case 7:n=e.sent,"string"!=typeof n&&(Me(n.realnameUrl),Re(!0)),e.next=20;break;case 11:if(1!=Ee.alreadyRealname||0!=Ie.alreadyRealname){e.next=19;break}return e.next=14,Object(R["q"])("TG_TIMEVALE",a,localStorage.getItem("ouid"),1,"".concat(location.href,"&time=").concat(Object(P["G"])(),"&sourceType=").concat(t));case 14:r=e.sent,Me(r.realnameUrl),Re(!1),e.next=20;break;case 19:1==Ee.alreadyRealname&&1==Ie.alreadyRealname&&Me(null);case 20:case"end":return e.stop()}}),e)})))()}),[Ie,Ee]);var $e=function(e){if(e){var t=Xe(e.orgOrPerson),n=e.orgNameOrPersonName,c=null;oe&&oe instanceof Array&&oe.forEach((function(e,a){1==t?n==e.identityInfo.userName&&(c=e):2==t&&n==e.identityInfo.orgName&&(c=e)}));var s={clientCode:a,sourceList:[{signatureMode:r,sourceName:"TG_TIMEVALE",sucjectId:c.subjectID,subjectType:String(c.subjectType),orgId:c.identityInfo.orgId,ouid:c.identityInfo.ouid,UKEY_COUNT:ne}]};"cloudReader"!=f.appName&&"iSignatureHTML5"!=f.appName&&Object(P["db"])("SetResult",JSON.stringify(s))}},et=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["D"])(a,8);case 2:t=e.sent,0==t.code&&d();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(e){X(w[e]),Ye.setFieldsValue({orgNameOrPersonName:w[e][0]})},at=function(e){K(e)};return m.a.createElement("div",null,be&&(!Ae||null==Ae)&&m.a.createElement("div",null,null!=ue&&ue&&m.a.createElement("div",{className:W.a.noEmpower},m.a.createElement("img",{src:h.a}),m.a.createElement("div",null,"\u5bf9\u4e0d\u8d77\uff0c\u6682\u65e0\u6388\u6743\u6216\u60a8\u7684\u6388\u6743\u671f\u9650\u5df2\u8fc7\u671f")),null!=ue&&!ue&&m.a.createElement(c["a"],{type:"card",items:[{label:"\u5929\u5370",key:"1",children:m.a.createElement("div",null,m.a.createElement("div",{className:W.a.personBox},m.a.createElement("span",{className:W.a.personNameLabel},"\u5f53\u524d\u7528\u6237\uff1a"),m.a.createElement(D["a"],{title:$},m.a.createElement("span",{className:W.a.personName},$)),m.a.createElement("span",{className:W.a.loginOutBtn,onClick:et},"\u7acb\u5373\u5207\u6362"),ne>1&&m.a.createElement(L["a"],{message:"\u68c0\u6d4b\u5230\u8d85\u8fc71\u628aUKey\uff0c\u8bf7\u79fb\u9664\u591a\u4f59\u7684UKey",type:"warning",showIcon:!0,closable:!0})),S&&m.a.createElement(z["a"],{text:S,src:Se,block:!0}),!S&&N&&U&&m.a.createElement("div",null,m.a.createElement(l["a"],Object(A["a"])({form:Ye,initialValues:{orgOrPerson:N[0],orgNameOrPersonName:U},name:"validate_other"},_e,{onFinish:$e,style:{maxWidth:600,height:"calc(100vh - 148px)",paddingTop:"100px"}}),m.a.createElement(M["a"],null,m.a.createElement(B["a"],{className:W.a.textRight,span:6},"\u9009\u62e9\u4e3b\u4f53:"),m.a.createElement(B["a"],{span:5},N&&m.a.createElement(l["a"].Item,{defaultValue:N[0],hasFeedback:!0,name:"orgOrPerson",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e3b\u4f53"}]},m.a.createElement(p["a"],{style:{width:120},onChange:tt,options:N.map((function(e){return{label:Je(e),value:e}}))}))),m.a.createElement(B["a"],{span:9},J&&U&&m.a.createElement(l["a"].Item,{defaultValue:U,name:"orgNameOrPersonName"},m.a.createElement(p["a"],{style:{width:275},onChange:at,options:J.map((function(e){return{label:e,value:e}}))})))),m.a.createElement(l["a"].Item,{style:{position:"absolute",right:"48px",bottom:"0"},wrapperCol:{span:12,offset:6}},m.a.createElement(n["a"],{className:"".concat(W.a.formBtn),type:"primary",htmlType:"submit"},"\u786e\u5b9a")))))}]})),Ae&&(We||qe)&&m.a.createElement(V["a"],{realNameUrl:Ae,ouid:We,orgId:qe,isComRealName:De,realSuccess:Qe,realError:Ze}))},_=Object(d["a"])((function(e){var t=e.indexPageModel;return{state:t}}))(Object(g["n"])(Y)),J=a("xLam"),X=a.n(J),Q=a("nvA3"),Z=a.n(Q),$=a("3OeY"),ee=a.n($),te=a("mnoa"),ae=a.n(te),ne=a("xqX8"),re=(a("sRBo"),a("kaz8")),ce=(a("miYZ"),a("tsqr")),se=a("m4qs"),oe=a.n(se),le=a("OS56"),ie=a.n(le),pe=(a("tyWD"),a("K7k0"),a("FxGE")),ue=a.n(pe),me=a("IOUM"),de=a.n(me),ge=a("rIz4"),be=a.n(ge),fe=a("WeR4"),Oe=a("dj7Q"),ye=a.n(Oe),Se=a("NFT5"),je=a.n(Se),xe=p["a"].Option,he=function(e){var t=e.state,a=e.dispatch,c=e.loading,d=t.query,g=t.sealSource,b=t.subjectId,f=t.clientCode,O=t.seals,y=t.accountName,S=t.sealMode,j=t.supportActive,x=t.loadingSuccess,h=t.ukeyIsLogin,E=t.cloudIsLogin,N=t.ukeyList,v=Object(u["useState"])([]),k=Object(i["a"])(v,2),I=k[0],w=k[1],T=Object(u["useState"])(null),C=Object(i["a"])(T,2),F=C[0],W=C[1],U=Object(u["useState"])(null),G=Object(i["a"])(U,2),K=G[0],q=G[1],V=l["a"].useForm(),Y=Object(i["a"])(V,1),_=Y[0],J=Object(u["useState"])(null),X=Object(i["a"])(J,2),Q=X[0],Z=X[1],$=Object(u["useState"])(!1),ee=Object(i["a"])($,2),te=ee[0],ae=ee[1],se=Object(u["useState"])(null),le=Object(i["a"])(se,2),pe=le[0],me=le[1],ge=Object(u["useState"])(null),Oe=Object(i["a"])(ge,2),Se=Oe[0],he=Oe[1],Ee=Object(u["useState"])(null),Ne=Object(i["a"])(Ee,2),ve=Ne[0],ke=Ne[1],Ie=Object(u["useState"])(null),we=Object(i["a"])(Ie,2),Te=we[0],Ce=we[1],Ae=Object(u["useState"])(null),Me=Object(i["a"])(Ae,2),Be=Me[0],Le=Me[1],De=Object(u["useState"])(!1),Re=Object(i["a"])(De,2),Pe=Re[0],Fe=Re[1],We=Object(u["useState"])(!1),Ue=Object(i["a"])(We,2),Ge=Ue[0],Ke=Ue[1],qe=Object(u["useState"])(null),Ve=Object(i["a"])(qe,2),ze=Ve[0],He=Ve[1],Ye=Object(u["useState"])([]),_e=Object(i["a"])(Ye,2),Je=_e[0],Xe=_e[1],Qe=Object(u["useState"])(null),Ze=Object(i["a"])(Qe,2),$e=Ze[0],et=Ze[1],tt=Object(u["useState"])({className:"center",infinite:!1,draggable:!1,centerPadding:"80px",nextArrow:m.a.createElement("img",{src:de.a}),prevArrow:m.a.createElement("img",{src:ue.a}),afterChange:function(){}}),at=Object(i["a"])(tt,2),nt=at[0],rt=at[1],ct=Object(u["useState"])(null),st=Object(i["a"])(ct,2),ot=st[0],lt=st[1],it=Object(u["useRef"])(null),pt=Object(u["useRef"])(null),ut=Object(u["useRef"])(null);Object(u["useEffect"])((function(){return function(){ut.current&&clearInterval(ut.current)}}),[]),Object(u["useEffect"])((function(){$e&&$e.length>0&&(ut.current&&clearInterval(ut.current),ut.current=setInterval((function(){var e=document.getElementsByClassName("sealDom");e.length&&(clearInterval(ut.current),ut.current=null,Object(P["c"])(e))}),500))}),[$e]);var mt=function(e){W(e),ke(null),Ce(null),_.setFieldsValue({pageRange:"",keywordPageRange:"",keywordCheck:!1,pageCheck:!1})},dt=function(e){Z(e),He(null)},gt=function(e){lt(e),ae(!1)},bt=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var a,n,r,c,o,l,i,p,u,m,y,x,h,E,N,v;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=Object(P["P"])(Number(d.pagesize),ot,t.orienModel),"string"!==typeof a){e.next=4;break}return ce["default"].error(a),e.abrupt("return");case 4:if(n={},Q?n=Q:(r=O.find((function(e){return!(e.gmSealstatus<0)})),r&&(n=r)),"GB"!=n.signType||"cloud"===j){e.next=13;break}return e.next=9,Object(R["a"])(n.caType,n.subjectID,f,n.sealID);case 9:if(c=e.sent,0==c.code){e.next=13;break}return He(c),e.abrupt("return",!1);case 13:o=null,l=null,i=g?"string"==typeof g.version?g.version:toString(g.version):"1.0",n.unitName&&"mm"==n.unitName?(o=Object(P["nb"])(n.picWidth),l=Object(P["nb"])(n.picHeight)):(o=Object(P["pb"])(n.picWidth),l=Object(P["pb"])(n.picHeight)),p=Je.find((function(e){return e.subjectID===b})),u=null,m=null,n.sealerCertInfo&&n.sealerCertInfo[0]&&(u=n.sealerCertInfo[0].hashMethod,m=n.sealerCertInfo[0].digalMethod),y={optionInfo:{optionName:"sign",optionTypeInfo:{logType:"1",logSubType:4==t.orienModel?1==a.singleSidesSplit?2:1:""},optionResult:""},documentName:d.fileName||"",documentID:d.documentID||"",appName:d.appName||"",signSN:String(n.sealID),signName:String(n.sealName),sealName:String(n.sealName),version:i,sealID:String(n.sealID),subjectID:"cloud"===j?n.subjectID:String(p.keySN),fileName:d.fileName||"",hashMethod:u,digalMethod:m,clientCode:String(f),hashFormat:"cloud"===j?n.hashFormat:String(p.hashFormat),certSN:"cloud"===j?n.certSN:p.certSN,sourceName:String(n.caType),signType:String(n.signType),sealStruct:String(n.sealStruct),isHashed:String(d.SignatureMode),stampMode:S,orgName:n.orgName},x={esignmode:t.orienModel,esealTag:String(void 0!==n.sealtype?n.sealtype:n.signType),esealSrc:n.caType,pageRange:t.pageCheck&&t.pageRange||"",keyWordInfo:{keyWord:"",pageRange:"",isLoop:""},straddleInfo:{singleSidesSplit:"0",pageOddOrEven:"0",unilateralPagesMode:""},straddleScale:"",imageBase64:n.picBase64,alias:n.sealName,width:String(o),height:String(l),sealId:n.sealID,wishResult:"0",signaturePosition:d.signaturePosition||"",sessionjson:y,hashFormat:"cloud"===j?n.hashFormat:String(p.hashFormat),type:"selectMode",imgExt:"png",imgData:"data:image/png;base64,".concat(n.picBase64),keySN:"cloud"===j?"":p.keySN,ouid:"",sealData:n.sealStruct,unitName:"",userCode:"",userName:""},4==t.orienModel?(x.straddleInfo=a,h=null,0==a.singleSidesSplit?(E=100-a.straddleStr,h=a.straddleStr?"".concat(a.straddleStr,",").concat(E):"50,50"):h=a.straddleScale?a.straddleScale:"",x.straddleScale=h):3==t.orienModel?(N=d.keyWordLoop?1==d.keyWordLoop?1:0:1,t.keywordOnlyCheck&&(N=0),v=t.keywordCheck&&t.keywordPageRange||"1-".concat(d.pagesize),x.pagedescChecked=t.keywordCheck,x.keyWordInfo={keyWord:t.keyword,pageRange:v,isLoop:String(N)},x.straddleInfo={singleSidesSplit:"",pageOddOrEven:"",unilateralPagesMode:""},x.pageRange=v):1==t.orienModel&&(x.pageRange=t.pageCheck&&t.pageRange||"1-".concat(d.pagesize),x.pagedescChecked=t.pageCheck),localStorage.setItem("sealData",JSON.stringify(y)),sessionStorage.setItem("sourceType","USP_CLOUD"),sessionStorage.setItem("platformTab",j||"ukey"),Object(P["vb"])("ukeySubjectId","cloud"===j?n.subjectID:p.subjectID),Object(P["vb"])("caType",n.caType),"0"==d.SignatureMode&&(x.autoCertificate=!0),localStorage.setItem("clientCode",f),"cloudReader"!=d.appName&&"iSignatureHTML5"!=d.appName?eSign.UrlContainer.SetResult(JSON.stringify(x)):"cloudReader"!=d.appName&&"iSignatureHTML5"!=d.appName||(x.imgExt=n.picType||"",window.parent.postMessage(x,"*"));case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ae(!0);case 2:it.current&&it.current.initForm();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(H["j"])(f,d,0,["2"]);case 2:t=e.sent,w(t),t.length>0&&(n="",n=t.some((function(e){return e.id==d.sealMode}))?d.sealMode:t[0].id,W(n),_.setFieldsValue({orienModel:n})),a({type:"platformModel/getUspSeals",payload:j});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u["useEffect"])((function(){Object(o["a"])(Object(s["a"])().mark((function e(){var t,a,n,r,c;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return");case 2:if(O){e.next=7;break}return me("\u8be5\u8bc1\u4e66\u65e0\u53ef\u7528\u5370\u7ae0"),he(null),et(null),e.abrupt("return");case 7:if("string"!=typeof O){e.next=11;break}return"\u8be5\u8bc1\u4e66\u65e0\u53ef\u7528\u5370\u7ae0"==O?(me("\u672a\u83b7\u53d6\u5230\u8bc1\u4e66\u5173\u8054\u7684\u5370\u7ae0"),he(ye.a)):(me(O),he(ye.a)),et(null),e.abrupt("return");case 11:if(t=0,a=!1,O instanceof Array&&(n=O.every((function(e){return e.gmSealstatus<0})),Le(n),O.forEach((function(e,n){a||(e.gmSealstatus<0?t=n+1:(t=n,a=!0))}))),"cloud"===j){e.next=33;break}return e.next=17,Object(R["u"])(f,d.SignatureMode,g,"USP_UKEY",1);case 17:if(r=e.sent,"string"!==typeof r){e.next=23;break}return me(r),e.abrupt("return");case 23:Xe(r);case 24:if(c=r.find((function(e){return e.subjectID===b})),("false"==d.autoSignatrue||0!=d.SignatureMode)&&1!=d.SignatureMode){e.next=33;break}if(!(c&&c.certStatus&&c.certStatus<0)){e.next=30;break}return me(Object(P["t"])(c.certStatus)),he(null),e.abrupt("return");case 30:if(c&&c.certStatus&&c.certCN||c&&c.certs&&c.certs[0]&&c.certs[0].certStatus&&c.certs[0].certCN){e.next=33;break}return me("\u672a\u627e\u5230\u53ef\u7528\u8bc1\u4e66"),e.abrupt("return");case 33:q(t),O.length?(me(null),et(O),rt({className:"center",infinite:!1,draggable:!1,centerPadding:"80px",slidesToShow:O&&O.length<3?O.length:3,nextArrow:m.a.createElement("img",{src:de.a}),prevArrow:m.a.createElement("img",{src:ue.a}),afterChange:function(e){},slidesToScroll:3})):me("\u6682\u65e0\u5370\u7ae0");case 35:case"end":return e.stop()}}),e)})))()}),[O,x]),Object(u["useEffect"])((function(){if(f&&(N.length>0&&h&&"ukey"===j||E&&"cloud"===j)&&(Ot(),1==d.customSignature&&d.sealMode))if(_.setFieldsValue({orienModel:d.sealMode}),3==d.sealMode){d.signaturePages&&_.setFieldsValue({keywordCheck:!0}),_.setFieldsValue({keywordPageRange:d.signaturePages,keywordOnlyCheck:!!d.keyWordLoop&&1!=d.keyWordLoop,keyword:d.signaturePosition});var e=Object(P["f"])(d.signaturePages,d.pagesize);Ce(e)}else if(1==d.sealMode){_.setFieldsValue({pageRange:d.signaturePages});var t=Object(P["f"])(d.signaturePages,d.pagesize);ke(t)}}),[f]);var yt=function(e){Fe(e.target.checked),e.target.checked||(Ce(null),_.setFieldsValue({keywordPageRange:""}))},St=function(e){Ke(e.target.checked),e.target.checked||(ke(null),_.setFieldsValue({pageRange:""}))},jt=function(e){var t=e.target.value,a=d.pagesize,n=Object(P["f"])(t,a);ke(n)},xt=function(e){var t=e.target.value,a=d.pagesize,n=Object(P["f"])(t,a);Ce(n)},ht=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["b"])("USP_UKEY",f,"","","cloud");case 2:t=e.sent,"string"!==typeof t&&(0==t.isLogin||eSign.UrlContainer&&eSign.UrlContainer.OpenExternUrl(t.loginUrl));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Et=function(){a({type:"platformModel/save",payload:{loadingSuccess:!1,accountName:""}}),a({type:"platformModel/logOut"})};return m.a.createElement("div",{className:"".concat("cloud"==j?oe.a.cloudSelectPage:oe.a.ukeySelectPage," platformPage")},c&&m.a.createElement(ne["a"],null),!c&&m.a.createElement(m.a.Fragment,null,te&&m.a.createElement(fe["a"],{onRef:it,getPagationData:gt}),!te&&(b||"cloud"===j)&&m.a.createElement("div",{className:oe.a.ukeySelectHeader},m.a.createElement("div",{className:oe.a.triggerUkey},m.a.createElement("span",null,"\u5f53\u524d\u7528\u6237: "),m.a.createElement(D["a"],{title:"ukey"===j?b:y},m.a.createElement("span",null,"ukey"===j?b:y)),1!=d.stampMode&&m.a.createElement(n["a"],{type:"link",onClick:Et,className:oe.a.triggerBtn},"\u7528\u6237\u5207\u6362")),1==d.stampMode&&m.a.createElement(m.a.Fragment,null,"ukey"===j&&m.a.createElement(L["a"],{message:"\u60a8\u7684\u7b7e\u7ae0\u8fd8\u672a\u63d0\u4ea4\u6216\u53d6\u6d88\uff0c\u6682\u4e0d\u53ef\u5207\u6362\u5176\u4ed6UKEY",type:"warning",showIcon:!0}),"cloud"===j&&m.a.createElement(L["a"],{message:"\u60a8\u7684\u7b7e\u7ae0\u8fd8\u672a\u63d0\u4ea4\u6216\u53d6\u6d88\uff0c\u6682\u4e0d\u53ef\u5207\u6362\u5176\u4ed6\u8d26\u53f7",type:"warning",showIcon:!0})),$e&&!pe&&m.a.createElement(l["a"],{className:oe.a.form,onFinish:bt,form:_,layout:"horizontal",initialValues:{certName:b,orienModel:F,keywordCheck:!1,keywordOnlyCheck:!1}},m.a.createElement(M["a"],{className:oe.a.pdlr16},m.a.createElement(B["a"],{span:12},1!=I.length&&m.a.createElement(l["a"].Item,{name:"orienModel",label:"\u5b9a\u4f4d\u6a21\u5f0f"},m.a.createElement(p["a"],{className:oe.a.modelSelect,onChange:mt,disabled:1==d.customSignature||1==I.length},I.map((function(e,t){return 4==e.id?m.a.createElement(xe,{disabled:1==d.pagesize,key:t,value:e.id},e.name):m.a.createElement(xe,{key:t,value:e.id},e.name)})))),1==I.length&&m.a.createElement(l["a"].Item,{name:"orienModel",label:"\u5b9a\u4f4d\u6a21\u5f0f"},m.a.createElement("span",null,I[0].label))),1==F&&!d.isNeedRang&&m.a.createElement(B["a"],{span:12},m.a.createElement(M["a"],null,m.a.createElement(B["a"],{span:2},m.a.createElement(l["a"].Item,{className:oe.a.inlineBlock,name:"pageCheck",valuePropName:"checked"},m.a.createElement(re["a"],{onChange:St,disabled:1==d.customSignature}))),m.a.createElement(B["a"],{className:oe.a.relative,span:13},m.a.createElement(l["a"].Item,{className:oe.a.inlineBlock,label:"\u9875\u9762\u8303\u56f4\uff1a",name:"pageRange"},m.a.createElement(r["a"],{disabled:!Ge||1==d.customSignature,onChange:jt,className:oe.a.rangeInput})),m.a.createElement("span",{className:oe.a.morePageErr},ve)),m.a.createElement(B["a"],{span:6},m.a.createElement("span",{className:oe.a.lh32},"\u5982:(1,2,3-5)"))))),3==F&&m.a.createElement(M["a"],{className:oe.a.keyWordsSetting},m.a.createElement(M["a"],{className:"".concat(oe.a.rangeRow," ").concat(oe.a.pdl2)},m.a.createElement(B["a"],{span:12},m.a.createElement(l["a"].Item,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}],name:"keyword",label:"\u5173\u952e\u5b57"},m.a.createElement(r["a"],{className:oe.a.modelSelect,disabled:1==d.customSignature}))),m.a.createElement(B["a"],{span:11},m.a.createElement("span",{className:"".concat(oe.a.keyWordsSettingText," ").concat(oe.a.lh32," ").concat(oe.a.pdl8)},"\u8bf4\u660e\uff1a\u76d6\u7ae0\u89c4\u5219\u4e3a\uff0c\u5173\u952e\u5b57\u5728\u5370\u7ae0\u56fe\u5f62\u4e2d\u5fc3\u4f4d\u7f6e"))),m.a.createElement(M["a"],{className:"".concat(oe.a.rangeRow," ").concat(oe.a.pdl50)},!d.isNeedRang&&m.a.createElement(B["a"],{span:1},m.a.createElement(l["a"].Item,{name:"keywordCheck",valuePropName:"checked"},m.a.createElement(re["a"],{onChange:yt,disabled:1==d.customSignature}))),!d.isNeedRang&&m.a.createElement(B["a"],{className:oe.a.relative,span:7},m.a.createElement(l["a"].Item,{className:oe.a.inlineBlock,label:"\u9875\u9762\u8303\u56f4\uff1a",name:"keywordPageRange"},m.a.createElement(r["a"],{disabled:!Pe||1==d.customSignature,onChange:xt,className:oe.a.rangeInput})),m.a.createElement("span",{className:oe.a.keyPageErr},Te)),!d.isNeedRang&&m.a.createElement(B["a"],{span:4},m.a.createElement("span",{className:"".concat(oe.a.keyWordsSettingText," ").concat(oe.a.lh32," ").concat(oe.a.pdl8)},"\u5982:(1,2,3-5)")),m.a.createElement(B["a"],{span:1},m.a.createElement(l["a"].Item,{name:"keywordOnlyCheck",valuePropName:"checked"},m.a.createElement(re["a"],{disabled:1==d.customSignature}))),m.a.createElement(B["a"],{span:9},m.a.createElement("span",{className:oe.a.lh32},"\u53ea\u7b7e\u7f72\u9875\u9762\u7b2c\u4e00\u4e2a\u5173\u952e\u5b57")))),m.a.createElement("div",{className:"".concat(oe.a.ukeySelectList," ukeySealsList")},m.a.createElement(ie.a,Object(A["a"])({ref:pt},nt),$e.length>=0&&$e instanceof Array&&$e.map((function(e,t){return m.a.createElement("div",{onClick:function(){dt(e),q(t)},className:t==K?e.gmSealstatus<0?"".concat(oe.a.stampBox," ").concat(oe.a.sealActive," ").concat(oe.a.divDisabled," sealDom"):"".concat(oe.a.stampBox," ").concat(oe.a.sealActive," sealDom"):e.gmSealstatus<0?"".concat(oe.a.stampBox," ").concat(oe.a.divDisabled," sealDom"):"".concat(oe.a.stampBox," sealDom"),key:t},m.a.createElement("img",{className:oe.a.stampImage,src:"data:image/png;base64,".concat(e.picBase64)}),m.a.createElement("span",{className:oe.a.stampName,style:{bottom:e.gmSealstatus<0&&e.gmSealstatus>-4?"40px":"16px"}},e.sealName),e.gmSealstatus<0&&m.a.createElement("img",{className:oe.a.stampWrongIcon,src:Object(P["r"])(e.gmSealstatus)}),e.gmSealstatus<0&&m.a.createElement("span",{className:oe.a.stampWrongText},Object(P["q"])(e.gmSealstatus)))})))),m.a.createElement("div",{className:oe.a.ukeyFooter},m.a.createElement(M["a"],null,4==F&&m.a.createElement(B["a"],{className:oe.a.pageSetting,span:12},m.a.createElement("span",{onClick:ft},m.a.createElement("img",{src:be.a}),"\u9a91\u7f1d\u7ae0\u8bbe\u7f6e")),m.a.createElement(B["a"],{className:oe.a.subBtnCol,span:4==F?12:24},m.a.createElement("span",{className:oe.a.verifyMsg},ze),m.a.createElement(n["a"],{htmlType:"submit",loading:c,disabled:!!(null===K||pe||ve||Te||Be||ze),className:oe.a.subBtn},"\u786e\u5b9a"))))),pe&&!$e&&m.a.createElement(m.a.Fragment,null,"cloud"===j&&m.a.createElement("div",{className:oe.a.cloudError},m.a.createElement("img",{src:je.a}),m.a.createElement("div",{className:oe.a.cloudErrorContent},m.a.createElement(n["a"],{type:"link",onClick:ht},"\u7acb\u5373\u7533\u9886"),m.a.createElement("div",null,m.a.createElement("span",null,"\u5982\u5df2\u7533\u9886\uff0c\u8bf7\u7acb\u5373"),m.a.createElement(n["a"],{type:"link",onClick:Ot},"\u5237\u65b0")))),"cloud"!==j&&m.a.createElement(z["a"],{src:Se,text:pe,block:!0})))))},Ee=Object(d["a"])((function(e){return{state:e.platformModel,loading:e.loading.effects["platformModel/getUspSeals"]}}))(Object(g["n"])(he)),Ne=p["a"].Option,ve=function(e){var t=e.dispatch,a=e.state,c=e.loading,d=e.btnLoading,g=a.supportMode,b=a.clientCode,f=a.ukeyIsLogin,O=a.query,y=a.ukeyList,S=a.ukeyErrorText,j=a.subjectId,x=a.pinError,h=a.supportActive,E=l["a"].useForm(),N=Object(i["a"])(E,1),v=N[0],k=Object(u["useState"])(null),I=Object(i["a"])(k,2),w=I[0],T=I[1];Object(u["useEffect"])((function(){b&&"ukey"===h&&(v.resetFields(),t({type:"platformModel/ukeyVerifysessionState",payload:b}))}),[b]),Object(u["useEffect"])((function(){if(v.resetFields(),t({type:"platformModel/save",payload:{pinError:null}}),y.length)if(1==O.stampMode){var e=localStorage.getItem("sealData");if(e){e=JSON.parse(e);var a=e,n=a.subjectID,r=a.fileName,c=y.find((function(e){return e.keySN===n}));c&&O.fileName===r?t({type:"platformModel/saveSubjectId",payload:n}):T("\u60a8\u7684\u7b7e\u7ae0\u8fd8\u672a\u63d0\u4ea4\u6216\u53d6\u6d88\uff0c\u6682\u4e0d\u53ef\u5207\u6362\u5176\u4ed6UKEY")}}else{var s=y.findIndex((function(e){return e.keySN===j}));-1!==s&&j||!y[0]||t({type:"platformModel/saveSubjectId",payload:y[0].keySN})}}),[y]),Object(u["useEffect"])((function(){j&&(v.setFieldsValue({subjectID:j,pin:""}),"ukey"===h&&t({type:"platformModel/save",playload:{seals:[]}}))}),[j]);var C=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(a){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:v.setFieldsValue({subjectID:a,pin:""}),t({type:"platformModel/save",payload:{subjectId:a}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(a){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t({type:"platformModel/ukeyLogin",payload:{subjectID:a.subjectID,pin:a.pin}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){t({type:"platformModel/keyInfoList",payload:b,subjectId:null})},B=function(){t({type:"platformModel/save",payload:{supportActive:"cloud"}})};return m.a.createElement("div",null,c&&m.a.createElement(ne["a"],null),!c&&m.a.createElement(m.a.Fragment,null,!w&&g.length>1&&!f&&m.a.createElement("div",{className:X.a.switch},m.a.createElement("div",null,m.a.createElement("img",{src:ae.a,alt:"icon"}),m.a.createElement("span",{className:X.a.switchText,onClick:B},"\u8d26\u53f7\u767b\u5f55"))),S&&m.a.createElement(z["a"],{block:!0,src:Z.a,text:y.length?S:null,customStyle:{width:"320px",margin:"0 auto",color:"#b3b3b3",paddingTop:"80px"}},!y.length&&m.a.createElement("div",null,m.a.createElement("span",null,"\u672a\u68c0\u6d4b\u5230Ukey\uff0c\u8bf7\u68c0\u67e5Ukey\u662f\u5426\u63d2\u5165\uff0c\u5982\u5df2\u6838\u51c6\uff0c\u8bf7\u70b9\u51fb"),m.a.createElement("span",{className:X.a.refresh,onClick:M},"\u7acb\u5373\u5237\u65b0"))),!S&&m.a.createElement(m.a.Fragment,null,!f&&m.a.createElement(m.a.Fragment,null,w&&m.a.createElement(L["a"],{message:w,type:"warning",showIcon:!0,closable:!0}),m.a.createElement("div",null,m.a.createElement(l["a"],{layout:"horizontal",className:X.a.form,onFinish:A,form:v,initialValues:{subjectID:j}},m.a.createElement(l["a"].Item,{label:"UKEY"},m.a.createElement(l["a"].Item,{name:"subjectID",rules:[{required:!0,message:"UKEY\u4e0d\u80fd\u4e3a\u7a7a"}]},m.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9UKEY",onChange:C,disabled:d||w||1==O.stampMode,value:j},y.map((function(e){return m.a.createElement(Ne,{key:e.keySN,value:e.keySN},e.keySN)})))),m.a.createElement(l["a"].Item,{className:X.a.refreshItem},m.a.createElement("img",{className:X.a.refreshIcon,src:ee.a,onClick:M}))),m.a.createElement(l["a"].Item,{label:"PIN\u7801",name:"pin",className:X.a.formItem,rules:[{required:!0,message:"PIN\u7801\u4e0d\u80fd\u4e3a\u7a7a"}]},m.a.createElement(r["a"].Password,{placeholder:"\u8bf7\u8f93\u5165PIN\u7801",status:x?"error":""})),m.a.createElement("div",{className:X.a.pinError},x),m.a.createElement(l["a"].Item,{className:X.a.formBtn},m.a.createElement(n["a"],{type:"primary",danger:!0,htmlType:"submit",loading:d,disabled:d},"\u83b7\u53d6\u5370\u7ae0"))))),f&&m.a.createElement(Ee,null))))},ke=Object(d["a"])((function(e){return{state:e.platformModel,loading:e.loading.effects["platformModel/keyInfoList"]||e.loading.effects["platformModel/saveSubjectId"],btnLoading:e.loading.effects["platformModel/ukeyLogin"]}}))(Object(g["n"])(ve)),Ie=a("0OBr"),we=a("YDkJ"),Te=a.n(we),Ce=function(e){var t=e.dispatch,a=e.state,n=e.loading,r=a.cloudErrorText,c=a.cloudLoginUrl,s=a.cloudIsLogin,o=a.supportMode,l=Object(u["useRef"])(null);Object(u["useEffect"])((function(){return t({type:"platformModel/cloudVerifysessionState"}),function(){l.current&&clearInterval(l.current)}}),[]),Object(u["useEffect"])((function(){c&&(l.current&&clearInterval(l.current),l.current=setInterval((function(){t({type:"platformModel/cloudVerifysessionState"})}),3e3))}),[c]),Object(u["useEffect"])((function(){s&&l.current&&clearInterval(l.current)}),[s]);var i=function(){t({type:"platformModel/save",payload:{supportActive:"ukey",cloudLoginUrl:null}})};return m.a.createElement("div",{className:o.length>1?X.a.iframeContainer:X.a.iframeContainer1},m.a.createElement(m.a.Fragment,null,n&&!c&&m.a.createElement(ne["a"],null),(!n||c)&&!s&&o.length>1&&m.a.createElement("div",{className:X.a.switch},m.a.createElement("div",null,m.a.createElement("img",{src:Te.a,alt:"icon"}),m.a.createElement("span",{className:X.a.switchText,onClick:i},"UKEY\u767b\u5f55"))),!s&&m.a.createElement(m.a.Fragment,null,r&&m.a.createElement(z["a"],{block:!0,src:k.a,type:"danger",text:r,customStyle:{paddingTop:"120px",margin:0}}),!r&&m.a.createElement(Ie["a"],{id:"Iframe",src:c,className:X.a.iframe})),s&&m.a.createElement(Ee,null)))},Ae=Object(d["a"])((function(e){return{state:e.platformModel,loading:e.loading.effects["platformModel/cloudVerifysessionState"]}}))(Object(g["n"])(Ce)),Me=function(e){var t=e.dispatch,a=e.clientCode,n=e.state,r=e.loading,c=e.location.query,s=n.sealMode,o=n.supportMode,l=n.supportActive,i=n.errorText,p=n.sealSource,d=Object(u["useRef"])();return Object(u["useEffect"])((function(){return c=Object(H["k"])(c),t({type:"platformModel/save",payload:{allowSignName:c.allowSignName}}),t({type:"platformModel/setClientCode",payload:a}),t({type:"platformModel/setQuery",payload:c}),t({type:"platformModel/setSupportMode",payload:a}),function(){t({type:"platformModel/init"})}}),[]),m.a.createElement("div",{className:"".concat(X.a.platform," platformPage")},r&&m.a.createElement(ne["a"],null),!r&&m.a.createElement(m.a.Fragment,null,i&&m.a.createElement(z["a"],{text:i,block:!0,customStyle:{paddingTop:"120px"}}),!i&&m.a.createElement(m.a.Fragment,null,"ukey"===l&&m.a.createElement(ke,null),"cloud"===l&&m.a.createElement(Ae,{onRef:d,clientCode:a,sealSource:p,sealMode:s,supportMode:o.length}))))},Be=Object(d["a"])((function(e){return{state:e.platformModel,loading:e.loading.effects["platformModel/setSupportMode"]}}))(Object(g["n"])(Me)),Le=a("/MKj"),De=a("YOho"),Re=a("P9vX"),Pe=a.n(Re),Fe=(a("T2oS"),a("W9HT")),We=(a("7Kak"),a("9yH6")),Ue=(a("DjyN"),a("NUBc")),Ge=a("oBTY"),Ke=a("IMoZ"),qe=a("ye1Q"),Ve=a("0NbB"),ze=a("zueq"),He=a("uo6C"),Ye=a("fIQR"),_e=a.n(Ye),Je=a("eHaL"),Xe=a.n(Je),Qe=a("zb57"),Ze=a("1Mg5"),$e=a("+JY7"),et=p["a"].Option,tt=r["a"].TextArea,at=[],nt=function(e){var t=e.dispatch,a=e.state,c=e.clientCodeNum,d=e.sourceList,g=e.changeLogin,b=e.preRealNameStatus,f=e.preRealnameurl,O=e.preRealNameCallback,y=e.userName,S=e.preSubjectID,j=e.location,x=j.pathname,h=j.query;h=Object(H["k"])(h),"cloudReader"!=h.appName&&"iSignatureHTML5"!=h.appName&&(h.sourceType||Object(P["db"])("SetTitle","\u7535\u5b50\u7b7e\u7ae0"));var E=Object(H["e"])(x),N=a.offLine,v=Object(u["useState"])([]),k=Object(i["a"])(v,2),I=k[0],w=k[1],T=Object(u["useState"])(h.signaturePosition?h.signaturePosition:null),C=Object(i["a"])(T,2),A=C[0],M=C[1],B=Object(u["useState"])(null),R=Object(i["a"])(B,2),F=R[0],W=R[1],U=Object(u["useState"])(null),G=Object(i["a"])(U,2),K=G[0],q=G[1],z=Object(u["useState"])(null),Y=Object(i["a"])(z,2),_=Y[0],J=Y[1],X=Object(u["useState"])(null),Q=Object(i["a"])(X,2),Z=Q[0],$=Q[1],ee=Object(u["useState"])(!1),te=Object(i["a"])(ee,2),ae=te[0],ne=te[1],se=Object(u["useState"])(!1),oe=Object(i["a"])(se,2),le=oe[0],ie=oe[1],pe=Object(u["useState"])(h.signaturePages?h.signaturePages:null),ue=Object(i["a"])(pe,2),me=ue[0],de=ue[1],ge=Object(u["useState"])(!!h.signaturePages&&h.signaturePages),Oe=Object(i["a"])(ge,2),ye=Oe[0],Se=Oe[1],xe=Object(u["useState"])(h.keyWordLoop?1==h.keyWordLoop?1:0:1),he=Object(i["a"])(xe,2),Ee=he[0],Ne=he[1],ve=Object(u["useState"])(!!h.keyWordLoop&&1!=h.keyWordLoop),ke=Object(i["a"])(ve,2),Ie=ke[0],we=ke[1],Te=Object(u["useState"])(null),Ce=Object(i["a"])(Te,2),Ae=Ce[0],Me=Ce[1],Be=Object(u["useState"])(null),Le=Object(i["a"])(Be,2),De=Le[0],Re=Le[1],Pe=Object(u["useState"])(!1),Ye=Object(i["a"])(Pe,2),Je=Ye[0],nt=Ye[1],rt=Object(u["useState"])(!1),ct=Object(i["a"])(rt,2),st=ct[0],ot=ct[1],lt=Object(u["useState"])(!1),it=Object(i["a"])(lt,2),pt=it[0],ut=it[1],mt=Object(u["useState"])(null),dt=Object(i["a"])(mt,2),gt=dt[0],bt=dt[1],ft=Object(u["useState"])(null),Ot=Object(i["a"])(ft,2),yt=Ot[0],St=Ot[1],jt=Object(u["useState"])(null),xt=Object(i["a"])(jt,2),ht=xt[0],Et=xt[1],Nt=Object(u["useState"])(null),vt=Object(i["a"])(Nt,2),kt=vt[0],It=vt[1],wt=Object(u["useState"])(null),Tt=Object(i["a"])(wt,2),Ct=Tt[0],At=Tt[1],Mt=Object(u["useState"])(!1),Bt=Object(i["a"])(Mt,2),Lt=Bt[0],Dt=Bt[1],Rt=Object(u["useState"])(null),Pt=Object(i["a"])(Rt,2),Ft=Pt[0],Wt=Pt[1],Ut=Object(u["useState"])(!1),Gt=Object(i["a"])(Ut,2),Kt=Gt[0],qt=Gt[1],Vt=Object(u["useState"])(null),zt=Object(i["a"])(Vt,2),Ht=zt[0],Yt=zt[1],_t=Object(u["useState"])(null),Jt=Object(i["a"])(_t,2),Xt=Jt[0],Qt=Jt[1],Zt=Object(u["useState"])(null),$t=Object(i["a"])(Zt,2),ea=$t[0],ta=$t[1],aa=Object(u["useState"])(!1),na=Object(i["a"])(aa,2),ra=na[0],ca=na[1],sa=Object(u["useState"])(null),oa=Object(i["a"])(sa,2),la=oa[0],ia=oa[1],pa=Object(u["useState"])(!1),ua=Object(i["a"])(pa,2),ma=ua[0],da=ua[1],ga=Object(u["useState"])(null),ba=Object(i["a"])(ga,2),fa=ba[0],Oa=ba[1],ya=Object(u["useState"])("\u786e\u5b9a"),Sa=Object(i["a"])(ya,2),ja=Sa[0],xa=Sa[1],ha=Object(u["useState"])(null),Ea=Object(i["a"])(ha,2),Na=Ea[0],va=Ea[1],ka=Object(u["useState"])(null),Ia=Object(i["a"])(ka,2),wa=Ia[0],Ta=Ia[1],Ca=Object(u["useState"])(0),Aa=Object(i["a"])(Ca,2),Ma=Aa[0],Ba=Aa[1],La=Object(u["useState"])(0),Da=Object(i["a"])(La,2),Ra=Da[0],Pa=Da[1],Fa=Object(u["useState"])(null),Wa=Object(i["a"])(Fa,2),Ua=Wa[0],Ga=Wa[1],Ka=Object(u["useState"])("\u786e\u5b9a"),qa=Object(i["a"])(Ka,2),Va=qa[0],za=qa[1],Ha=Object(u["useState"])(!1),Ya=Object(i["a"])(Ha,2),_a=Ya[0],Ja=Ya[1],Xa=Object(u["useState"])(null),Qa=Object(i["a"])(Xa,2),Za=Qa[0],$a=Qa[1],en=Object(u["useState"])(null),tn=Object(i["a"])(en,2),an=tn[0],nn=tn[1],rn=Object(u["useState"])(1),cn=Object(i["a"])(rn,2),sn=cn[0],on=cn[1],ln=Object(u["useRef"])(null),pn=Object(u["useRef"])(),un=Object(u["useRef"])(null),mn=Object(u["useRef"])(),dn=Object(u["useRef"])(),gn=l["a"].useForm(),bn=Object(i["a"])(gn,1),fn=bn[0],On=Object(u["useRef"])(null),yn=Object(u["useRef"])(null),Sn=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var a,n,r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return pn.current=1,e.next=3,Object($e["m"])({clientCode:c,sourceName:"TG_SAAS",subjectID:t});case 3:if(a=e.sent,0===a.data.code){e.next=7;break}return g(),e.abrupt("return");case 7:Array.isArray(a.data.subjectInfo.seals)?(n=a.data.subjectInfo.seals.filter((function(e){return t===S?e.usePermission:e.usePermission&&Object(H["n"])(e.grantType)})),n=Object(P["m"])(n,h.allowSignName),It(n.length),q(n),r=Object(Ge["a"])(n),r[0]&&(Me(r[0].sealID),$(r[0].sealID)),J(r.splice(0,3))):(It(0),q([]),J([]),ta(ra?"\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u8054\u7cfb\u7ba1\u7406\u5458\u53bb\u521b\u5efa\u5370\u7ae0":"\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u53bb\u521b\u5efa\u5370\u7ae0"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u["useEffect"])((function(){return pn.current=1,jn(),function(){On.current&&clearInterval(On.current)}}),[]);var jn=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var a,n,r,o,l,i,p,u,m,d,g,f,O,y,j,x;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!b||t){e.next=3;break}return Et([]),e.abrupt("return");case 3:return a=null,e.next=6,Object($e["h"])({clientCode:c,sourceName:"TG_SAAS",subjectID:S});case 6:if(n=e.sent,"string"===typeof n){e.next=14;break}return ia(n),e.next=11,Object($e["l"])({clientCode:c,sourceName:"TG_SAAS",subjectID:S,subjectType:"1"});case 11:r=e.sent,o="string"===typeof r,a={identityInfo:{realName:o?0:r.data.alreadyRealname,realnameurl:o?"":r.data.realnameurl,orgName:n.subjectName,ouid:S,orgId:S},subjectType:1,subjectID:S};case 14:return e.next=16,Object($e["n"])({clientCode:c,sourceName:"TG_SAAS"}).catch((function(e){throw e}));case 16:if(l=e.sent,i=l.data.subjectsList.map((function(e){return e.subjectID})),p=[a].concat(),!(i.length>0)){e.next=25;break}return e.next=22,Object($e["o"])({clientCode:E,sourceName:"TG_SAAS",userIdList:i});case 22:u=e.sent,"string"!==typeof u&&l.data.subjectsList.forEach((function(e){var t=u.data.find((function(t){return e.subjectID===t.userId}));t&&(t.useVipCode&&(t.level=Object(H["d"])(t.vipCode)),e.identityInfo.level=t.level)})),p=[a].concat(Object(Ge["a"])(l.data.subjectsList));case 25:if(Et(p),m=!1,"iSignatureHTML5"===h.appName){e.next=32;break}return e.next=30,Object(P["L"])();case 30:d=e.sent,d&&(g=p.filter((function(e){return e.subjectID===d})),g[0]&&(bt(d),Sn(d),b||kn(d,p),Wt(g[0].identityInfo.ouid),m=!0));case 32:return p[0]&&!m&&(f=p[0],O=f.subjectID,y=f.identityInfo,bt(O),Sn(O),b||kn(O,p),Wt(y.ouid)),e.next=35,Object(H["j"])(E,h);case 35:j=e.sent,w(j),j.length>0&&(x=h.sealMode?h.sealMode:Ht?Ht.positionModalId:j[0].id,W(x));case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u["useEffect"])((function(){if($(null),Me(null),gt){var e=ht.find((function(e){return e.identityInfo.orgId===gt}));St(e.identityInfo.orgName)}un.current=gt}),[gt]),Object(u["useEffect"])((function(){N?(It(0),pn.current=1,nt(!0),q(null),J(null)):0==N&&nt(!1)}),[N]),Object(u["useEffect"])((function(){me&&Cn(me)}),[me]),Object(u["useEffect"])((function(){W(F),"3"==F?null!=A?(ot(!A.length),ut(!A.length)):ut(!0):ot(!1)}),[F]),Object(u["useEffect"])((function(){b&&(At(f),Qt(m.a.createElement("span",null,"\u60a8\u8fd8\u672a\u5b9e\u540d\u8ba4\u8bc1\uff0c\u4e0d\u80fd\u8fdb\u884c\u7b7e\u7f72\uff0c\u8bf7\u5b8c\u6210\u4e2a\u4eba\u5b9e\u540d\u8ba4\u8bc1",m.a.createElement("span",{className:_e.a.toBuy,onClick:An},"\u53bb\u5b9e\u540d"))))}),[b]),Object(u["useEffect"])((function(){if(ae){var e=document.querySelector(".saasSelectIndexLayout").querySelector(".rc-virtual-list"),t=document.createElement("div");t.classList.add("applyBtn"),t.id="applyBtn",t.innerHTML='<span class="anticon anticon-plus"><svg viewBox="64 64 896 896" focusable="false" data-icon="plus" width="1em" height="1em" fill="currentColor" aria-hidden="true"><defs><style></style></defs><path d="M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"></path><path d="M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"></path></svg></span><span style="margin-left:8px;">\u521b\u5efa/\u52a0\u5165\u4f01\u4e1a</span>',t.onclick=function(){Kn()},document.getElementById("applyBtn")||e.appendChild(t)}}),[ae]),Object(u["useEffect"])((function(){_&&_.length>0&&(On.current&&clearInterval(On.current),On.current=setInterval((function(){var e=document.getElementsByClassName("sealDom");e.length&&(clearInterval(On.current),On.current=null,Object(P["c"])(e))}),500))}),[_]);var xn=function(e){e.target.value&&($(e.target.value),Me(e.target.value))},hn=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t,a,n,r,c,o,l,i,p,u,g,b,f,O,y,j;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(P["P"])(Number(h.pagesize),Ht,F),"string"!==typeof t){e.next=4;break}return ce["default"].error(t),e.abrupt("return");case 4:if(a=null,K&&K instanceof Array&&K.length>0&&K.map((function(e){e.sealID==Z&&(a=Object(P["h"])(e))})),n="",r="",c="",o=(new Date).getTime(),l=at.filter((function(e){return e.certStartTime&&e.certEndTime&&o>=new Date(e.certStartTime).getTime()&&o<=new Date(e.certEndTime).getTime()})),!l[0]){e.next=20;break}if(n=l[0].digalMethod,r=l[0].hashFormat,c=l[0].hashMethod,""!==n&&""!==r&&""!==c){e.next=18;break}return Qt(m.a.createElement("span",null,"\u5f53\u524d\u4e3b\u4f53\u8bc1\u4e66\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458")),e.abrupt("return");case 18:e.next=22;break;case 20:return Qt(m.a.createElement("span",null,"\u5f53\u524d\u4e3b\u4f53\u65e0\u6709\u6548\u8bc1\u4e66\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458")),e.abrupt("return");case 22:if(i=ye&&me||"1-".concat(h.pagesize),p={keyWord:A,pageRange:i,isLoop:""+Ee},u={version:d?d[0].version:"",optionInfo:{optionName:"sign",optionTypeInfo:{logType:"1",logSubType:4==F?1==t.singleSidesSplit?2:1:""},optionResult:""},documentName:h.fileName?h.fileName:"",documentID:h.documentID?h.documentID:"",appName:h.appName||"",signSN:a.sealID,signName:a.sealName,sealName:a.sealName,sourceName:"TG_SAAS",sealID:a.sealID,clientCode:E,subjectID:gt,ouid:Ft,digalStructType:a.sealStruct,fileName:h.fileName?h.fileName:"",hashMethod:c,digalMethod:n,hashFormat:r,providerName:"e\u7b7e\u5b9d",isHashed:String(h.SignatureMode),sealSN:String(a.sealSN),keySN:String(a.keySN),subjectType:2,signType:a.signType,orgName:yt,sealType:a.sealType,sealTypeName:a.sealTypeName,stampMode:1},g={sourcesType:1,clientCode:String(E)},b=null,0==t.singleSidesSplit?(f=Number(100-t.straddleStr),b=t.straddleStr?"".concat(t.straddleStr,",").concat(f):"50,50"):b=t.straddleScale||"",O={esignmode:F,esealTag:a.signType,esealSrc:"TG_SAAS",sealtype:String(a.sealType),uKeyInfo:{},pageRange:i,keyWordInfo:p,wishResult:"0",alias:a.sealName,straddleInfo:t,straddleScale:b,width:String(Object(P["pb"])(a.picWidth)),height:String(Object(P["pb"])(a.picHeight)),sealId:a.sealID,orgId:a.orgID,signaturePosition:h.signaturePosition?h.signaturePosition:"",hashMethod:c,type:"selectMode",imgExt:"png",keySN:"",ouid:Ft,sealData:a.sealStruct,signSN:a.sealID,sessionjson:u,logOutSessionJson:g,providerName:"e\u7b7e\u5b9d",unitName:"",userCode:"",userName:"",token:localStorage.getItem("tCode")||"",pagedescChecked:ye},gt!==S){e.next=33;break}e.t0=a.previewUrl,e.next=36;break;case 33:return e.next=35,Object($e["k"])(E,"TG_SAAS",a.orgID||gt,a.sealID);case 35:e.t0=e.sent;case 36:y=e.t0,j=new Image,j.src="".concat(y,"&timestamp=").concat((new Date).getTime()),j.crossOrigin="anonymous",j.addEventListener("load",(function(e){var t=document.createElement("canvas");t.width=e.target.width,t.height=e.target.height;var n=t.getContext("2d");n.drawImage(j,0,0,e.target.width,e.target.height);var r=t.toDataURL("image/png",1);O.imgData=r,O.imageBase64=r.replace("data:image/png;base64,",""),t=null,j=null;var c=localStorage.getItem("sealData");c&&1==h.stampMode?(c=JSON.parse(c),c.push(O),localStorage.setItem("sealData",JSON.stringify(c))):localStorage.setItem("sealData",JSON.stringify([O])),localStorage.setItem("providerName","e\u7b7e\u5b9d"),sessionStorage.setItem("sourceType","SAAS"),"cloudReader"!=h.appName&&"iSignatureHTML5"!=h.appName?(Object(P["sb"])(gt),Object(H["m"])().UrlContainer.SetResult(JSON.stringify(O))):"cloudReader"!=h.appName&&"iSignatureHTML5"!=h.appName||(O.imgExt=a.picType||"",window.parent.postMessage(O,"*"))}));case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),En=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:de(null),Re(null),ut(!1),W(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nn=function(e){M(e.target.value);var t=!e.target.value.length;ot(t),ut(t)},vn=function(e){var t=!e.target.value.length;ot(t),ut(t)},kn=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t,a){var n,r,o,l,i,p,u,d,g,b,f;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Qt(null),ta(null),J(null),q(null),bt(null),pn.current=1,It(0),n={clientCode:c,sourceName:"TG_SAAS",subjectID:t,subjectType:"2"},r=ht||a,o=r.find((function(e){return e.identityInfo.orgId===t})),l=o.identityInfo,i=l.realName,p=l.realnameurl,1!==o.subjectType){e.next=25;break}if(!i){e.next=19;break}return At(null),e.next=16,Fn(S);case 16:Sn(t),e.next=23;break;case 19:return At(p),Qt(m.a.createElement("span",null,"\u5f53\u524d\u7528\u6237\u672a\u8ba4\u8bc1\uff0c\u4e0d\u80fd\u8fdb\u884c\u7b7e\u7f72",m.a.createElement("span",{className:_e.a.toBuy,onClick:function(){return An(t)}},"\u53bb\u8ba4\u8bc1"))),bt(t),e.abrupt("return");case 23:e.next=47;break;case 25:if(i){e.next=43;break}return e.next=28,Object($e["l"])(n).catch((function(e){throw"\u9a8c\u8bc1\u5b9e\u540d\u5931\u8d25"}));case 28:if(u=e.sent,0!=u.data.alreadyRealname){e.next=36;break}return At(u.data.realnameurl),Qt(m.a.createElement("span",null,"\u5f53\u524d\u4f01\u4e1a\u672a\u8ba4\u8bc1\uff0c\u4e0d\u80fd\u8fdb\u884c\u7b7e\u7f72",m.a.createElement("span",{className:_e.a.toBuy,onClick:function(){return An(t)}},"\u53bb\u8ba4\u8bc1"))),bt(t),e.abrupt("return");case 36:return ht&&(d=r.findIndex((function(e){return e.identityInfo.orgId===t})),ht[d].identityInfo.realName=!0),At(null),e.next=40,Fn(t);case 40:Sn(t);case 41:e.next=47;break;case 43:return At(null),e.next=46,Fn(t);case 46:Sn(t);case 47:return bt(t),e.next=50,Object($e["f"])({clientCode:E,sourceName:"TG_SAAS",subjectID:t});case 50:g=e.sent,Array.isArray(g)&&g[0]?(at=g,b=(new Date).getTime(),f=at.filter((function(e){return e.certStartTime&&e.certEndTime&&b>=new Date(e.certStartTime).getTime()&&b<=new Date(e.certEndTime).getTime()})),0===f.length&&Qt(m.a.createElement("span",null,"\u5f53\u524d\u4e3b\u4f53\u65e0\u6709\u6548\u8bc1\u4e66\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"))):(at=[],bt(t),Qt(m.a.createElement("span",null,"\u5f53\u524d\u4e3b\u4f53\u672a\u7ed1\u5b9a\u8bc1\u4e66\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458")));case 52:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),In=function(){return m.a.createElement("div",{className:"".concat(_e.a.loader," ").concat(_e.a.circle)})},wn=function(e){Se(e.target.checked),e.target.checked||(Re(null),de(null))},Tn=function(e){var t=e.target.value;de(t);var a=Object(P["f"])(t,h.pagesize);Re(a)},Cn=function(e){var t=e;de(t);var a=Object(P["f"])(t,h.pagesize);Re(a)},An=function(){Dt(!0)},Mn=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}if(Qt(null),!b){e.next=6;break}return O(),jn(!0),e.abrupt("return");case 6:return a=ht.find((function(e){return e.identityInfo.orgId===un.current})),a.identityInfo.realName=!!t,Re(null),At(null),Dt(!1),e.next=13,Sn(un.current);case 13:Fn(un.current);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bn=function(e){Dt(!1),At(!1),Qt(e)},Ln=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,qt(!0);case 2:yn.current&&yn.current.initForm(),t({type:"indexPageModel/sealSetting"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dn=function(e){t({type:"indexPageModel/hasSetting"}),qt(!1),Yt(e)},Rn=function(e){we(e.target.checked),Ne(e.target.checked?0:1)},Pn=function(e){var t=Object(H["l"])(e,gt);Object(H["m"])().UrlContainer.OpenExternUrl(t)},Fn=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var a,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ta(null),Qt(null),t!==S){e.next=10;break}if(a=la,a){e.next=8;break}return e.next=7,Object($e["h"])({clientCode:E,sourceName:"TG_SAAS",subjectID:t});case 7:a=e.sent;case 8:return a.margin||-1==a.margin||a.unlimitNum?ta(m.a.createElement("span",{className:_e.a.spanBlock},"\u5f53\u524d\u53ef\u7b7e\u7f72\u4efd\u6570",m.a.createElement("b",{style:{color:"#E63740",margin:"0 4px"}},-1==a.margin||a.unlimitNum?"\u65e0\u9650":a.margin),"\u4efd")):Qt(m.a.createElement("span",null,"\u5f53\u524d\u5269\u4f59\u53ef\u7b7e\u7f72\u4efd\u65700\u4efd\uff0c\u8bf7\u8d2d\u4e70\u540e\u91cd\u65b0\u53d1\u8d77\u7b7e\u7f72",window.eSign&&m.a.createElement("span",{className:_e.a.toBuy,onClick:function(){return Pn("personal")}},"\u53bb\u8d2d\u4e70"))),e.abrupt("return");case 10:return ca(!1),e.next=13,Object($e["h"])({clientCode:E,sourceName:"TG_SAAS",subjectID:t});case 13:n=e.sent,"string"!==typeof n&&(ca(!!n.hasAdmin),n.margin||-1==n.margin||n.unlimitNum?ta(m.a.createElement("span",{className:_e.a.spanBlock},"\u5f53\u524d\u4f01\u4e1a\u53ef\u7b7e\u7f72\u4efd\u6570",m.a.createElement("b",{style:{color:"#E63740",margin:"0 4px"}},-1==n.margin||n.unlimitNum?"\u65e0\u9650":n.margin),"\u4efd")):n.hasAdmin?Qt(m.a.createElement("span",null,"\u5f53\u524d\u4f01\u4e1a\u5269\u4f59\u53ef\u7b7e\u7f72\u4efd\u65700\u4efd\uff0c\u8bf7\u8d2d\u4e70\u540e\u91cd\u65b0\u53d1\u8d77\u7b7e\u7f72",window.eSign&&m.a.createElement("span",{className:_e.a.toBuy,onClick:Pn},"\u53bb\u8d2d\u4e70"))):Qt(m.a.createElement("span",null,"\u5f53\u524d\u4f01\u4e1a\u53ef\u7b7e\u7f72\u4efd\u6570\u4e3a0\uff0c\u8d2d\u4e70\u4ed8\u8d39\u8bf7\u8054\u7cfb\u4f01\u4e1a\u7ba1\u7406\u5458")));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wn=function(e){pn.current=e;var t=Object(Ge["a"])(K),a=3*(e-1);J(t.splice(a,3))},Un=!1,Gn=function(e){var t=fn.getFieldValue("createName");if(32==e.keyCode){var a=new RegExp(/\s+/g);a.test(t)&&(Un||(ce["default"].warn({content:"\u683c\u5f0f\u6821\u9a8c\u4e0d\u901a\u8fc7\uff0c\u586b\u5165\u4fe1\u606f\u4e0d\u80fd\u6709\u7a7a\u683c\u3002",className:"clientOrangeMessage"}),Un=!0,setTimeout((function(){Un=!1}),3e3)),fn.setFieldsValue({createName:t.replace(/[, ]/g,"")}))}},Kn=function(){var e=m.a.createElement("div",{className:"createCompony ".concat(_e.a.createComponyBody)},m.a.createElement("span",{className:_e.a.componyBodyWarn},m.a.createElement(Ke["a"],{className:_e.a.createIcon}),"\u521b\u5efa\u4f01\u4e1a\u5e76\u5b9e\u540d\u6210\u529f\u540e\uff0c\u5c06\u81ea\u52a8\u6210\u4e3a\u8be5\u4f01\u4e1a\u7ba1\u7406\u5458\uff0c\u5e76\u751f\u6210\u5bf9\u5e94\u4f01\u4e1a\u540d\u79f0\u7684\u516c\u7ae0"),m.a.createElement("span",{className:_e.a.componyBodyTitle},"\u8bf7\u8f93\u5165\u60a8\u6240\u5728\u7684\u4f01\u4e1a\u6216\u5355\u4f4d\u540d\u79f0\uff0c\u5e76\u786e\u4fdd\u4e0e\u8425\u4e1a\u6267\u7167\u4e0a\u7684\u540d\u79f0\u4e00\u81f4"),m.a.createElement(l["a"],{form:fn},m.a.createElement(l["a"].Item,{name:"createName"},m.a.createElement(tt,{ref:mn,onKeyUp:function(e){Gn(e)},allowClear:!1,showCount:!0,className:"".concat(_e.a.componyBodyText," inputNoResize"),maxLength:100}))),m.a.createElement("span",{ref:dn,className:_e.a.componyBodyErr}));fn.setFieldsValue({createName:""}),on(1),da(!0),Oa("\u521b\u5efa/\u52a0\u5165\u4f01\u4e1a"),va("\u53d6\u6d88"),xa(m.a.createElement("span",{className:_e.a.okDisAble},"\u786e\u5b9a")),Ta(e),Ba(599),Ga("createCompony")},qn=function(e){da(!1),Oa(null),Ta(null),e||(Et([]),jn())};window.applyCompanyWin=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object($e["a"])(t,E,"TG_SAAS");case 2:a=e.sent,"string"===typeof a?ce["default"].error({content:a,className:"clientMessage"}):(qn(1),ce["default"].success({content:"\u7533\u8bf7\u6210\u529f\uff01\u5df2\u5411\u7ba1\u7406\u5458\u53d1\u9001\u8bf7\u6c42\uff0c\u7ba1\u7406\u5458\u901a\u8fc7\u540e\u60a8\u5c06\u81ea\u52a8\u52a0\u5165\u4f01\u4e1a\u540d\u79f0\u3002",className:"clientMessage"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Vn=function(){if(Ua&&"createCompony"==Ua){var e=mn.current.resizableTextArea.textArea.value;if(!e)return void(dn.current.innerHTML="<span>\u4f01\u4e1a\u6216\u5355\u4f4d\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a</span>");on(2),xa(m.a.createElement("span",null,m.a.createElement(qe["a"],{style:{marginRight:"8px"}}),"\u786e\u5b9a")),Object($e["c"])(e,E,"TG_SAAS").then((function(e){if("\u767b\u5f55\u8d85\u65f6"==e)return $a("\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01"),nn("\u63d0\u793a"),Ja(!0),za("\u786e\u5b9a"),void qn(1);var t=e.data.operateCode,a=e.data.orgId;0==e.code&&(e.data.createStatus?qn():0==t?dn.current.innerHTML="<span>\u60a8\u5df2\u52a0\u5165\u8be5\u4f01\u4e1a</span>":1==t?dn.current.innerHTML='<span>\u4f01\u4e1a\u5df2\u5b58\u5728\uff0c\u53ef\u8054\u7cfb\u7ba1\u7406\u5458\u9080\u8bf7\u60a8\u52a0\u5165\uff0c\u6216\u70b9\u51fb<span class="spanLink" onclick="applyCompanyWin(\''.concat(a,"')\">\u7533\u8bf7\u52a0\u5165\u8be5\u4f01\u4e1a</span>(\u9700\u7ba1\u7406\u5458\u540c\u610f)<span>"):2==t||(3==t?dn.current.innerHTML="<span>\u60a8\u5df2\u521b\u5efa\u8fc7\u8be5\u4f01\u4e1a\uff0c\u5c1a\u672a\u5b8c\u6210\u8ba4\u8bc1<span>":4==t&&qn())),setTimeout((function(){xa(m.a.createElement("span",null,"\u786e\u5b9a")),on(1)}),600)}))}},zn=function(){Ja(!1)},Hn=function(){Ja(!1)},Yn=function(){da(!1),Oa(null),Pa(null),Ba(null),Ta(null),va(null),fn.setFieldsValue({createName:""})};return m.a.createElement("div",{className:"".concat(_e.a.takeChapterPage," cloudChapterPage"),id:"takeChapterPage"},!Kt&&!Lt&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("div",{className:_e.a.takeChapterSelect},m.a.createElement("div",{className:_e.a.selectBox},m.a.createElement("div",{className:_e.a.tit1},m.a.createElement("span",null,"\u5f53\u524d\u7528\u6237\uff1a"),m.a.createElement(D["a"],{title:y},m.a.createElement("span",{style:{marginRight:"10px",fontWeight:"bold",display:"inline-block",maxWidth:"100px"},className:_e.a.over},y)),1!=h.stampMode&&m.a.createElement(m.a.Fragment,null,m.a.createElement("span",null,"\u5982\u9700\u5207\u6362\u8bf7\u70b9\u51fb"),m.a.createElement(n["a"],{type:"link",onClick:g},"\u7acb\u5373\u5207\u6362"))),1==h.stampMode&&m.a.createElement(L["a"],{message:"\u60a8\u7684\u7b7e\u7ae0\u8fd8\u672a\u63d0\u4ea4\u6216\u53d6\u6d88\uff0c\u6682\u4e0d\u53ef\u5207\u6362\u5176\u4ed6\u5370\u7ae0\u6e90",type:"warning",showIcon:!0,closable:!0}),ht&&ht instanceof Array&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:_e.a.selectInput,style:{margin:3==F?"24px 38px 10px":"24px 40px"}},m.a.createElement("span",null,"\u9009\u62e9\u4e3b\u4f53\uff1a"),m.a.createElement(p["a"],{status:"error",open:ae,dropdownClassName:"saasSelectIndexLayout",popupClassName:"saasSelectIndexLayout",onBlur:function(){ne(!1)},suffixIcon:m.a.createElement(Ve["a"],{onClick:function(){ne(!ae)},style:{color:"#333"}}),className:_e.a.subjectSelect,value:gt,onClick:function(e){ne(!ae),e.stopPropagation(),e.preventDefault()},defaultValue:gt,onChange:kn},ht.map((function(e,t){return m.a.createElement(et,{key:t,value:1!==e.subjectType?e.identityInfo.orgId:e.subjectID,className:_e.a.selectOption},1!==e.subjectType&&m.a.createElement(m.a.Fragment,null,e.identityInfo.realName&&m.a.createElement("div",{className:"vip vip".concat(e.identityInfo.level)},m.a.createElement("span",{className:_e.a.orgName},e.identityInfo.orgName)),!e.identityInfo.realName&&m.a.createElement("div",{className:"notRealOrg"},e.identityInfo.orgName),e.identityInfo.realName&&"null"==e.identityInfo.level&&m.a.createElement("span",{className:"notVip"},m.a.createElement("span",null,e.identityInfo.orgName))),1==e.subjectType&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"".concat(e.identityInfo.realName?"alreadyRealName":"notRealOrg")},e.identityInfo.orgName)))}))),Xt&&m.a.createElement("div",{className:_e.a.ErrTip},m.a.createElement(ze["a"],{style:{color:"#E63740",dispaly:"inline-block",marginRight:"4px"}}),Xt),ea&&!Xt&&m.a.createElement("div",{className:_e.a.ErrTip},m.a.createElement(ze["a"],{style:{color:"#E63740",dispaly:"inline-block",marginRight:"4px"}}),ea)),ht.length>0&&m.a.createElement("div",{className:_e.a.selectInput,style:{margin:3==F?"24px 38px 10px":"24px 40px"}},m.a.createElement("span",null,"\u5b9a\u4f4d\u6a21\u5f0f\uff1a"),I.length>1&&m.a.createElement(p["a"],{status:"error",open:le,onBlur:function(){ie(!1)},disabled:1==h.customSignature,suffixIcon:m.a.createElement(Ve["a"],{onClick:function(){ie(!le)},style:{color:"#333"}}),onClick:function(e){ie(!le),e.stopPropagation(),e.preventDefault()},className:_e.a.takeSelect,value:F,onChange:En},I&&I.map((function(e,t){return m.a.createElement(et,{key:t,value:e.id},e.name&&m.a.createElement("span",null,e.name))}))),1==I.length&&m.a.createElement("span",null,I[0].name),1==F&&!h.isNeedRang&&m.a.createElement("span",{className:_e.a.pageNum},m.a.createElement(re["a"],{style:{marginLeft:"16px"},checked:ye,onChange:wn,disabled:1==h.customSignature},"\u9875\u9762\u8303\u56f4"),m.a.createElement(r["a"],{disabled:!ye||1==h.customSignature,onChange:Tn,value:me,className:_e.a.pageListInput}),m.a.createElement("span",{style:{fontSize:"12px"}},"\u5982:1,2,3-5"),De&&m.a.createElement("span",{className:_e.a.ErrTip},De)),4==F&&h.pagesize<2&&m.a.createElement("span",{className:_e.a.errWord},"\u7b7e\u9a91\u7f1d\u7ae0\u65f6\uff0c\u6587\u6863\u9875\u6570\u987b\u5927\u4e8e2\u9875")))),3==F&&m.a.createElement("span",{className:_e.a.keyWord},m.a.createElement("span",null,"\u5173\u952e\u5b57\uff1a"),m.a.createElement(r["a"],{disabled:1==h.customSignature,value:A,placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:"216px"},onChange:Nn,onBlur:vn}),st&&m.a.createElement("div",{className:_e.a.errorTit},m.a.createElement("span",null,"\u8bf7\u8f93\u5165\u5173\u952e\u5b57")),m.a.createElement("span",{style:{fontSize:"12px",marginLeft:"8px"}},"\u8bf4\u660e\uff1a\u76d6\u7ae0\u89c4\u5219\u4e3a\uff0c\u5173\u952e\u5b57\u5728\u5370\u7ae0\u56fe\u5f62\u4e2d\u5fc3\u4f4d"),m.a.createElement("div",{className:_e.a.explain},m.a.createElement(re["a"],{style:{marginLeft:"16px"},checked:ye,disabled:1==h.customSignature,onChange:wn},"\u9875\u9762\u8303\u56f4"),m.a.createElement(r["a"],{disabled:!ye||1==h.customSignature,onChange:Tn,value:me,className:_e.a.pageListInput}),m.a.createElement("span",{style:{fontSize:"12px"}},"\u5982:1,2,3-5"),De&&m.a.createElement("span",{className:_e.a.morePageErrTip},De),m.a.createElement(re["a"],{style:{marginLeft:"16px"},disabled:1==h.customSignature,checked:Ie,onChange:Rn},"\u53ea\u7b7e\u7f72\u9875\u9762\u7b2c\u4e00\u4e2a\u5173\u952e\u5b57"))))),m.a.createElement("div",{className:_e.a.takeChapterBody},null!=_&&m.a.createElement("div",null,m.a.createElement("div",{className:_e.a.chapterSelect},m.a.createElement("div",{className:_e.a.flex},m.a.createElement("span",{style:{fontSize:"14px",paddingLeft:"32px"}},"\u9009\u62e9\u5370\u7ae0\uff1a"),null!=kt&&kt>3&&m.a.createElement("span",null,m.a.createElement(Ue["a"],{simple:!0,current:pn.current,defaultCurrent:1,defaultPageSize:3,hideOnSinglePage:!0,size:"small",total:kt,onChange:Wn}))),m.a.createElement("div",null,null!=_&&0!=_.length&&m.a.createElement(We["a"].Group,{value:Ae,onChange:function(e){return xn(e)},className:"takeChapterRG ".concat(_e.a.takeChapter),ref:ln,buttonStyle:"solid",style:{width:"100%",left:"0"}},null!=_&&_.map((function(e,t){return m.a.createElement("div",{className:"".concat(_e.a.radioBox," sealDom"),key:t},m.a.createElement(We["a"].Button,{value:e.sealID},e.keySN&&m.a.createElement("img",{src:Xe.a,className:_e.a.ukey}),m.a.createElement("div",{className:_e.a.stampCard},m.a.createElement("div",{className:_e.a.imgBox},m.a.createElement(He["a"],{resize:!0,scrollContainer:document.getElementById("root"),debounce:200,offset:50,loading:m.a.createElement(In,null),key:t},m.a.createElement("img",{src:"".concat(e.previewUrl)}))),m.a.createElement(D["a"],{title:e.sealName},m.a.createElement("span",{className:_e.a.stampName},e.sealName)))))}))),null!=_&&0==_.length&&m.a.createElement("div",{className:"takeChapterRG ".concat(_e.a.takeChapter),ref:ln,style:{width:"100%",left:"0"}},m.a.createElement("div",{className:_e.a.stampCard},m.a.createElement("div",{className:_e.a.imgNoData},m.a.createElement(He["a"],{resize:!0,scrollContainer:document.getElementById("root"),debounce:200,offset:50,loading:m.a.createElement(In,null)},m.a.createElement("img",{src:je.a})),m.a.createElement("span",{className:_e.a.stampName,style:{paddingTop:"20px",color:"#333"}},"\u6682\u65e0\u5370\u7ae0"))))))),null==_&&!Ct&&!b&&m.a.createElement(Fe["a"],{className:_e.a.spin})),m.a.createElement("div",{className:_e.a.takeChapterFooter},4==F&&m.a.createElement("div",{className:_e.a.setting,onClick:Ln},m.a.createElement("img",{src:be.a}),m.a.createElement("span",{style:{color:"#E63740"}},"\u9a91\u7f1d\u7ae0\u8bbe\u7f6e")),null!=_&&m.a.createElement("div",null,m.a.createElement("div",{className:_e.a.footerTip},m.a.createElement("span",{className:_e.a.spanBlock},m.a.createElement(ze["a"],{style:{color:"#E63740",dispaly:"inline-block",marginRight:"4px"}}),"\u786e\u8ba4\u7b7e\u7ae0\u63d0\u4ea4\u6210\u529f\u540e\uff0c\u6263\u9664\u7b7e\u7ae0\u4e3b\u4f53\u5bf9\u5e94\u7684\u5408\u540c\u4efd\u6570",m.a.createElement("b",{style:{color:"#E63740",margin:"0 4px"}},"1"),"\u4efd")),m.a.createElement(n["a"],{className:_e.a.toStampBtn,disabled:!Z&&!Ae||De||4==F&&h.pagesize<2||Je||4==F&&null!=Ht&&2==Ht.pageOddOrEven&&h.pagesize<4||pt||Xt,type:"primary",onClick:hn},"\u786e\u5b9a"))),Je&&m.a.createElement(L["a"],{style:{position:"fixed",top:"25%",left:"36%"},message:"\u7f51\u7edc\u5f02\u5e38,\u8bf7\u68c0\u67e5\u60a8\u7684\u7f51\u7edc",type:"warning",showIcon:!0})),Lt&&m.a.createElement(V["a"],{realNameUrl:Ct,ouid:Ft,isComRealName:!0,realSuccess:Mn,realError:Bn}),Kt&&!Lt&&m.a.createElement(fe["a"],{onRef:yn,getPagationData:Dn}),m.a.createElement(Qe["a"],{visible:ma,mWidth:Ma,mbHeight:Ra,title:fa,content:wa,handleOk:Vn,handleCancel:Yn,okText:ja,cancelText:Na,mType:Ua,isLoading:sn}),m.a.createElement(Ze["a"],{handleOk:zn,okText:Va,handleCancel:Hn,visible:_a,content:Za,title:an}))},rt=Object(Le["c"])((function(e){var t=e.indexPageModel;return{state:t}}))(Object(g["n"])(nt)),ct=function(e){var t,a=e.projectId,n=e.location.query,r=Object(u["useState"])(null),c=Object(i["a"])(r,2),l=c[0],p=c[1],d=Object(u["useState"])(null),g=Object(i["a"])(d,2),b=g[0],O=g[1],y=Object(u["useState"])(null),S=Object(i["a"])(y,2),j=S[0],x=S[1],h=Object(u["useState"])(null),E=Object(i["a"])(h,2),N=E[0],v=E[1],k=Object(u["useState"])(!1),I=Object(i["a"])(k,2),w=I[0],T=I[1],C=Object(u["useState"])(null),A=Object(i["a"])(C,2),M=A[0],B=A[1],L=Object(u["useState"])(null),D=Object(i["a"])(L,2),R=D[0],F=D[1],W=Object(u["useState"])(null),U=Object(i["a"])(W,2),K=U[0],q=U[1],Y=Object(u["useState"])(null),_=Object(i["a"])(Y,2),J=_[0],X=_[1],Q=Object(u["useState"])(!1),Z=Object(i["a"])(Q,2),$=Z[0],ee=Z[1],te=Object(u["useState"])(!1),ae=Object(i["a"])(te,2),ne=ae[0],re=ae[1],ce=!1,se=function(){return"&hideTabMenu=true&SaasPageStep=selectStamp"},oe=function(){return window.location.href.replace(se(),"")},le=function(){return encodeURIComponent(oe()+se())},ie="selectStamp"===n.SaasPageStep,pe="https://h5.esign.cn/usercenterFront/login/web?cusRedirectUrl="+le(),ue=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(a){var n,r,c,o,l,i,p,u,m,d;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return v(null),n={clientCode:t||j,sourceName:"TG_SAAS",flowID:a.flowID,loginID:a.loginID},e.next=4,Object($e["j"])(n);case 4:if(r=e.sent,c=r.data,o=c.code,l=c.data.status,0!=l){e.next=10;break}10000023==o?F("\u8be5\u5fae\u4fe1\u8d26\u53f7\u672a\u8fdb\u884c\u7ed1\u5b9a"):ce||setTimeout((function(){ue(a)}),1e3),e.next=21;break;case 10:if(1!=l){e.next=21;break}return e.next=13,Object($e["b"])(n);case 13:return i=e.sent,p=i.data,u=p.userName,m=p.subjectID,q(u),X(m),e.next=19,ge(m);case 19:d=e.sent,d&&O(1);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var r,c,o,l,i,u,m,d,g,b,f,y,S,j,h,E,N;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(sessionStorage.setItem("sourceType","SAAS"),t=a||n.clientCode,t){e.next=8;break}return e.next=5,Object($e["g"])();case 5:r=e.sent,c=r.data,o=c.errcode,l=c.user_code_list,0==o&&l[0]&&(t=l[0].user_code);case 8:if(x(t),t){e.next=11;break}return e.abrupt("return",!1);case 11:if(!ie){e.next=18;break}return u=window.parent.document.getElementById("saaslogin"),u&&(u.style.height="100%",u.style.marginTop=0,u.classList.add()),e.next=16,Object(H["m"])().UrlContainer.ReadCookie("esign.cn");case 16:i=e.sent,Object(H["m"])().UrlContainer.SetWidgetSize(664,562);case 18:return e.next=20,Object(P["fb"])(t,i);case 20:if(m=e.sent,"string"!==typeof m){e.next=24;break}return v(m),e.abrupt("return");case 24:return d={clientCode:t,sourceName:"TG_SAAS"},e.next=27,Object($e["b"])(d);case 27:if(g=e.sent,b=g.data,f=b.isLogin,y=b.subjectID,S=b.userName,j=b.code,h=0==m.code&&m.useHomeLogin&&!f&&"iSignatureHTML5"!=n.appName,h&&(re(!0),Object(H["m"])().UrlContainer.SetWidgetSize(1012,740)),!f){e.next=37;break}return e.next=34,ge(y);case 34:if(E=e.sent,E){e.next=37;break}return e.abrupt("return");case 37:if(X(y),O(f),q(S),!h){e.next=42;break}return e.abrupt("return");case 42:if(10!=j){e.next=46;break}return e.next=45,Object($e["i"])(d);case 45:N=e.sent;case 46:if(N){e.next=48;break}return e.abrupt("return");case 48:p(N.data.data),ue(N.data.data);case 50:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return B(null),T(!1),t={clientCode:j,sourceNames:"TG_SAAS"},e.next=5,Object($e["q"])(t);case 5:if(a=e.sent,!ie){e.next=12;break}return sessionStorage.setItem("sourceType","SAAS"),window.parent.location.href=location.href.replace(encodeURIComponent(se()),""),window.parent.location.href=location.href.replace(se(),""),window.parent.location.reload(),e.abrupt("return");case 12:0==a.data.code&&me();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u["useEffect"])((function(){return n.baseUrl&&Object(H["s"])(n.baseUrl),n.XServiceAddress&&Object(H["t"])(n.XServiceAddress),v(null),me(),function(){ce=!0}}),[]);var ge=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(a){var n,r,c,o,l,i;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object($e["l"])({clientCode:j||t,sourceName:"TG_SAAS",subjectID:a,subjectType:"1"});case 2:if(n=e.sent,r=n.data,c=r.code,o=r.message,l=r.alreadyRealname,i=r.realnameurl,0!==c){e.next=12;break}if(l){e.next=9;break}return B(i),F("\u672a\u5b9e\u540d"),e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 12:return v(o),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){ee(!0)},fe=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&(F(null),ee(!1),O(1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(e){ee(!1),F(e)};return m.a.createElement("div",null,N&&m.a.createElement("div",{className:Pe.a.error},N),!N&&m.a.createElement(m.a.Fragment,null,!$&&m.a.createElement(m.a.Fragment,null,!R&&m.a.createElement(m.a.Fragment,null,0===b&&!ne&&m.a.createElement("div",{className:Pe.a.loginPage},m.a.createElement("div",{className:Pe.a.loginLeft},m.a.createElement("div",{className:Pe.a.loginLeftTit},"e\u7b7e\u5b9d\u8d26\u53f7\u767b\u5f55"),m.a.createElement("div",{className:Pe.a.loginLeftContent},"\u5728\u7ebf\u7b7e\u7f72\uff0c\u5b89\u5168\u9ad8\u6548"),m.a.createElement("div",{className:Pe.a.loginLeftContent},"\u7535\u5b50\u5370\u7ae0\u968f\u8eab\u5e26\uff0c\u968f\u65f6\u968f\u5730\u5b89\u5168\u7b7e")),m.a.createElement("div",{className:Pe.a.loginRight},m.a.createElement("div",{className:Pe.a.loginHeader},"\u626b\u7801\u767b\u5f55"),m.a.createElement("div",{className:Pe.a.loginBody},m.a.createElement("div",{className:"".concat(Pe.a.qrBox," ").concat(Pe.a.qrBoxNetErr)},l&&m.a.createElement(f.a,{size:160,value:l.url}),m.a.createElement("span",{className:Pe.a.qrCodeText},"\u8bf7\u4f7f\u7528\u5fae\u4fe1\u626b\u7801\u767b\u5f55/\u6ce8\u518c"),m.a.createElement("span",{className:Pe.a.qrCodeIcon},m.a.createElement(De["a"],{style:{color:"#ffffff",fontSize:"22px",marginTop:"5px"}})))),m.a.createElement("div",{className:Pe.a.loginFooter}))),0===b&&ne&&m.a.createElement("div",{className:Pe.a.loginPageX},m.a.createElement("iframe",{id:"saaslogin",className:"".concat(Pe.a.iframe," .saas-login"),src:pe})),1===b&&m.a.createElement("div",{className:Pe.a.selectStamp},m.a.createElement(rt,{userName:K,changeLogin:de,preRealNameCallback:function(){return T(!1)},clientCodeNum:j,preRealNameStatus:w,preRealnameurl:M,preSubjectID:J}))),R&&m.a.createElement(m.a.Fragment,null,"\u672a\u5b9e\u540d"===R&&m.a.createElement(z["a"],{src:G.a,block:!0,customStyle:{paddingTop:"120px"}},m.a.createElement("div",{className:Pe.a.realnameTips},"\u8be5\u7528\u6237\u672a\u5b8c\u6210\u4e2a\u4eba\u5b9e\u540d\u8ba4\u8bc1",m.a.createElement("span",{className:Pe.a.realnameBtn,onClick:be},"\u7acb\u5373\u5b9e\u540d\u8ba4\u8bc1"))),"\u672a\u5b9e\u540d"!==R&&m.a.createElement(z["a"],{text:R,src:G.a,block:!0,customStyle:{paddingTop:"120px"}}))),$&&m.a.createElement(V["a"],{realNameUrl:M,ouid:J,isComRealName:!1,realSuccess:fe,realError:Oe})))},st=Object(Le["c"])((function(e){var t=e.indexPageModel;return{state:t}}))(Object(g["n"])(ct));function ot(e){throw new TypeError('"'+e+'" is read-only')}var lt=a("qrt/"),it=a.n(lt),pt=p["a"].Option,ut=function(e){var t=e.query,a=e.clientCode,c=e.sealSource,d=l["a"].useForm(),g=Object(i["a"])(d,1),b=g[0],f=l["a"].useForm(),O=Object(i["a"])(f,1),y=O[0],S=Object(u["useState"])(null),j=Object(i["a"])(S,2),x=j[0],h=j[1],E=Object(u["useState"])(null),N=Object(i["a"])(E,2),v=N[0],I=N[1],w=Object(u["useState"])(""),T=Object(i["a"])(w,2),C=T[0],F=T[1],W=Object(u["useState"])(null),U=Object(i["a"])(W,2),G=U[0],K=U[1],q=Object(u["useState"])(null),V=Object(i["a"])(q,2),Y=V[0],_=V[1],J=Object(u["useState"])(null),X=Object(i["a"])(J,2),Q=X[0],$=X[1],ee=Object(u["useState"])(!1),te=Object(i["a"])(ee,2),ae=te[0],se=te[1],oe=Object(u["useState"])(null),le=Object(i["a"])(oe,2),pe=le[0],me=le[1],ge=Object(u["useState"])(t.sealMode?t.sealMode:"0"),Oe=Object(i["a"])(ge,2),Se=Oe[0],je=Oe[1],xe=Object(u["useState"])(null),he=Object(i["a"])(xe,2),Ee=he[0],Ne=he[1],ve=Object(u["useState"])(!1),ke=Object(i["a"])(ve,2),Ie=ke[0],we=ke[1],Te=Object(u["useState"])(null),Ce=Object(i["a"])(Te,2),Ae=Ce[0],Me=Ce[1],Be=Object(u["useState"])(!1),Le=Object(i["a"])(Be,2),De=Le[0],Re=Le[1],Pe=Object(u["useState"])(!1),Fe=Object(i["a"])(Pe,2),We=Fe[0],Ue=Fe[1],Ge=Object(u["useState"])(null),Ke=Object(i["a"])(Ge,2),qe=Ke[0],Ve=Ke[1],ze=Object(u["useState"])(!1),He=Object(i["a"])(ze,2),Ye=He[0],_e=He[1],Je=Object(u["useState"])(null),Xe=Object(i["a"])(Je,2),Qe=Xe[0],Ze=Xe[1],$e=Object(u["useState"])(""),et=Object(i["a"])($e,2),tt=et[0],at=et[1],nt=Object(u["useState"])({}),rt=Object(i["a"])(nt,2),ct=rt[0],st=rt[1],lt=Object(u["useState"])(!1),ut=Object(i["a"])(lt,2),mt=ut[0],dt=ut[1],gt=Object(u["useState"])(""),bt=Object(i["a"])(gt,2),ft=bt[0],Ot=bt[1],yt=Object(u["useState"])(H["p"]),St=Object(i["a"])(yt,2),jt=St[0],xt=St[1],ht=Object(u["useState"])({className:"center",infinite:!1,draggable:!1,centerPadding:"80px",nextArrow:m.a.createElement("img",{src:de.a}),prevArrow:m.a.createElement("img",{src:ue.a})}),Et=Object(i["a"])(ht,2),Nt=Et[0],vt=Et[1],kt=Object(u["useState"])(null),It=Object(i["a"])(kt,2),wt=It[0],Tt=It[1],Ct=Object(u["useRef"])(null),At=Object(u["useRef"])(null),Mt=Object(u["useRef"])(null),Bt=Object(u["useRef"])("");Object(u["useEffect"])((function(){return Dt(),Lt(),function(){Mt.current&&clearInterval(Mt.current)}}),[]),Object(u["useEffect"])((function(){pe&&pe.length>0&&(Mt.current&&clearInterval(Mt.current),Mt.current=setInterval((function(){var e=document.getElementsByClassName("sealDom");e.length&&(clearInterval(Mt.current),Mt.current=null,Object(P["c"])(e))}),500))}),[pe]);var Lt=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var n,r,c,o,l;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["z"])(a,"KG_CLOUD",t.SignatureMode);case 2:if(n=e.sent,Bt.current=null===n||void 0===n?void 0:n.pinmode,r=Object(P["z"])("KG_CLOUD"),r)try{c=JSON.parse(r),o=Object(P["d"])(c.keySn),l=c.password?Object(P["d"])(c.password):"",b.setFieldsValue({keySn:o,password:l,remember:!!l}),Ot(o),(l||1==t.stampMode)&&Rt({keySn:o,password:l,remember:!!l})}catch(s){console.log(s)}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dt=function(){if(t.typeModel){var e=t.typeModel.split(",");-1===e.findIndex((function(e){return e==Se}))&&je(e[0]||"");var a=H["p"].filter((function(t){return e.includes(t.id)}));xt(a)}},Rt=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(n){var r,c,o,l,i;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["B"])(a,"KG_CLOUD",t.SignatureMode,n.keySn,n.password,"",Bt.current);case 2:r=e.sent,c=r.code,o=r.message,0===c?(F(""),Ot(n.keySn),se(!0),l=Object(P["e"])(n.keySn),i=n.remember?Object(P["e"])(n.password):"",Object(P["vb"])("KG_CLOUD",JSON.stringify({keySn:l,password:i}),7),Pt()):F(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var n,r,o,l,i,p,u;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return at(""),dt(!0),e.next=4,Object(R["u"])(a,t.SignatureMode,c,"KG_CLOUD");case 4:if(n=e.sent,!n){e.next=38;break}if("string"!==typeof n){e.next=11;break}I(n),dt(!1),e.next=38;break;case 11:if(!Array.isArray(n)){e.next=37;break}if("OFD"!=t.appName&&"ofd"!==t.docType||(n=n.filter((function(e){return"SM2WithSM3"==e.hashMethod}))),"cloudReader"!==t.appName&&"iSignatureHTML5"!==t.appName||!t.sealType||(n=n.filter((function(e){return"GM"===t.sealType?"SM2WithSM3"==e.hashMethod:"SHA1"==e.hashMethod}))),0!==n.length){e.next=19;break}I("\u672a\u627e\u5230\u53ef\u7528\u8bc1\u4e66"),dt(!1),e.next=35;break;case 19:if(r=n[0],o=r.certCN,l=r.subjectID,i=r.certSN,p=r.certStatus,u=r.digalMethod,o){e.next=25;break}return I("\u672a\u627e\u5230\u53ef\u7528\u8bc1\u4e66"),Ze(Z.a),dt(!1),e.abrupt("return");case 25:if(at("".concat(o,"\uff08").concat(l,"\uff09")),("false"==t.autoSignatrue||0!=t.SignatureMode)&&1!=t.SignatureMode){e.next=35;break}if(!(p&&p<0)){e.next=32;break}return I(Object(P["t"])(p)),Ze(Z.a),dt(!1),e.abrupt("return");case 32:st(n[0]),Me("".concat(l,"-").concat(i)),Ft(u,l,i);case 35:e.next=38;break;case 37:dt(!1);case 38:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(n,r,c){var o,l,i,p,u;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"cloudReader"!==t.appName&&"iSignatureHTML5"!==t.appName||!t.digalMethod||(n=t.digalMethod),o=t.allSeals&&1==t.allSeals?1:0,e.next=4,Object(R["s"])(a,r,t.SignatureMode,c,n,t.allowSignName,"KG_UKEY",o,"KG_CLOUD");case 4:if(l=e.sent,l&&0!==l.length){e.next=11;break}return I("\u8be5\u8bc1\u4e66\u65e0\u53ef\u7528\u5370\u7ae0"),Ze(Z.a),me(null),dt(!1),e.abrupt("return");case 11:"string"==typeof l?"\u8be5\u8bc1\u4e66\u65e0\u53ef\u7528\u5370\u7ae0"==l?(I("\u672a\u83b7\u53d6\u5230\u8bc1\u4e66\u5173\u8054\u7684\u5370\u7ae0"),Ze(ye.a)):(I(l),Ze(Z.a)):(I(null),Ze(null)),dt(!1),i=0,p=!1,Array.isArray(l)&&("cloudReader"!==t.appName&&"iSignatureHTML5"!==t.appName||!t.sealType||(l.filter((function(e){return"PT"===t.sealType?"P7"===e.signType:"GMV4"===e.signType||"GM"===e.signType})),ot("res")),u=l.every((function(e){return e.gmSealstatus<0})),Ve(u),l.forEach((function(e,t){p||(e.gmSealstatus<0?i=t+1:(i=t,p=!0))}))),h(i),me(l),vt({className:"center",infinite:!1,draggable:!1,centerPadding:"80px",slidesToShow:l&&l.length<3?l.length:3,nextArrow:m.a.createElement("img",{src:de.a}),prevArrow:m.a.createElement("img",{src:ue.a}),slidesToScroll:3});case 19:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(n){var r,o,l,i,p,u,m,d,g,b,f,O,y,S,j,x,h,E,N,v,k,I,w,T,C,A,M,B,L,D,F,W,U,G,K,q,V,z,H,Y;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object(P["P"])(Number(t.pagesize),wt,n.orienModel),"string"!==typeof r){e.next=4;break}return ce["default"].error(r),e.abrupt("return");case 4:if(o={},Ee?o=Ee:(l=pe.find((function(e){return!(e.gmSealstatus<0)})),l&&(o=l)),o.caType="KG_CLOUD",i=o,p=i.signType,u=i.caType,m=i.subjectID,d=i.sealID,g=i.unitName,b=i.picWidth,f=i.picHeight,O=i.sealName,y=i.sealStruct,S=i.sealtype,j=i.picBase64,x=i.picType,"GB"!=p){e.next=17;break}return _e(!0),e.next=12,Object(R["a"])(u,m,a,d);case 12:if(h=e.sent,_e(!1),0==h.code){e.next=17;break}return $(h),e.abrupt("return",!1);case 17:E=null,N=null,v=c.find((function(e){return"KG_CLOUD"===e.sourceName})).version,g?"mm"==g?(E=Object(P["nb"])(b),N=Object(P["nb"])(f)):"px"==g&&(E=Object(P["pb"])(b),N=Object(P["pb"])(f)):(E=Object(P["pb"])(b),N=Object(P["pb"])(f)),k=2===c.find((function(e){return e.sourceName===u})).sealMode?1:0,I=ct.keySN,w=ct.subjectID,T=ct.hashMethod,C=ct.hashFormat,A=ct.certSN,M=ct.digalMethod,B=n.orienModel,L=n.pageCheck,D=n.pageRange,F=n.keywordOnlyCheck,W=n.keywordCheck,U=n.keywordPageRange,G=n.keyword,K={optionInfo:{optionName:"sign",optionTypeInfo:{logType:"1",logSubType:4==B?1==r.singleSidesSplit?2:1:""},optionResult:""},documentName:t.fileName||"",documentID:t.documentID||"",appName:t.appName||"",signSN:String(d),signName:String(O),sealName:String(O),version:v,sealID:String(d),subjectID:I,fileName:t.fileName?String(t.fileName):"",hashMethod:T,digalMethod:M,clientCode:a,hashFormat:C,certSN:A,sourceName:String(u),signType:String(p),sealStruct:String(y),isHashed:String(t.SignatureMode),orgName:String(O),stampMode:k},q={esignmode:B,esealTag:String(void 0!==S?S:p),esealSrc:u,pageRange:L&&D||"",keyWordInfo:{keyWord:"",pageRange:"",isLoop:""},straddleInfo:{singleSidesSplit:"0",pageOddOrEven:"0",unilateralPagesMode:""},straddleScale:"",imageBase64:j,alias:O,width:String(E),height:String(N),sealId:d,wishResult:"0",signaturePosition:t.signaturePosition||"",sessionjson:K,hashFormat:C,type:"selectMode",imgExt:x||"png",imgData:"data:image/png;base64,".concat(j),keySN:I,ouid:"",sealData:y,unitName:"",userCode:"",userName:""},4==B?(q.straddleInfo=r,V=null,0==r.singleSidesSplit?(z=100-r.straddleStr,V=r.straddleStr?"".concat(r.straddleStr,",").concat(z):"50,50"):V=r.straddleScale?r.straddleScale:"",q.straddleScale=V):3==B?(H=t.keyWordLoop?1==t.keyWordLoop?1:0:1,F&&(H=0),Y=W&&U||"1-".concat(t.pagesize),q.pagedescChecked=n.keywordCheck,q.keyWordInfo={keyWord:G,pageRange:Y,isLoop:String(H)},q.straddleInfo={singleSidesSplit:"",pageOddOrEven:"",unilateralPagesMode:""},q.pageRange=Y):1==B&&(q.pageRange=L&&D||"1-".concat(t.pagesize),q.pagedescChecked=n.pageCheck),localStorage.setItem("ukeySessionjson",JSON.stringify(K)),sessionStorage.setItem("sourceType","KG_CLOUD"),Object(P["vb"])("ukeySubjectId",w),Object(P["vb"])("caType",u),"0"==t.SignatureMode&&(q.autoCertificate=!0),localStorage.setItem("clientCode",a),"cloudReader"!=t.appName&&"iSignatureHTML5"!=t.appName?eSign.UrlContainer.SetResult(JSON.stringify(q)):"cloudReader"!=t.appName&&"iSignatureHTML5"!=t.appName||(q.imgExt=x||"",window.parent.postMessage(q,"*"));case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(e){je(e),K(null),_(null),y.setFieldsValue({pageRange:"",keywordPageRange:"",keywordCheck:!1,pageCheck:!1})},Gt=function(e){Ue(e.target.checked),e.target.checked||(K(null),y.setFieldsValue({pageRange:""}))},Kt=function(e){var a=e.target.value,n=t.pagesize,r=Object(P["f"])(a,n);K(r)},qt=function(e){Re(e.target.checked),e.target.checked||(_(null),y.setFieldsValue({keywordPageRange:""}))},Vt=function(e){var a=e.target.value,n=t.pagesize,r=Object(P["f"])(a,n);_(r)},zt=function(e){Ne(e),$(null)},Ht=function(e){Tt(e),we(!1)},Yt=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,we(!0);case 2:Ct.current&&Ct.current.initForm();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_t=function(){se(!1),Ot(""),F(""),I("")};return m.a.createElement("div",{className:it.a.iSignature},C&&m.a.createElement(z["a"],{text:C,src:k.a,block:!0,customStyle:{paddingTop:"100px"}},m.a.createElement(n["a"],{type:"link",onClick:_t},"\u91cd\u65b0\u767b\u5f55")),!C&&m.a.createElement("div",null,!ae&&m.a.createElement(l["a"],{form:b,labelAlign:"right",onFinish:Rt,className:it.a.form},m.a.createElement(l["a"].Item,{label:"\u5bc6\u94a5\u76d8\u5e8f\u53f7\uff1a",name:"keySn",hasFeedback:!0,validateStatus:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7cfb\u5217\u53f7"}]},m.a.createElement(r["a"],{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5e8f\u5217\u53f7"})),m.a.createElement(l["a"].Item,{label:"\u5bc6\u94a5\u76d8\u5bc6\u7801\uff1a",name:"password",hasFeedback:!0,validateStatus:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u94a5\u76d8\u5bc6\u7801"}]},m.a.createElement(r["a"].Password,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),m.a.createElement(l["a"].Item,{name:"remember",valuePropName:"checked",style:{textAlign:"right"}},m.a.createElement(re["a"],null,"\u8bb0\u4f4f\u5bc6\u7801")),m.a.createElement("div",{className:it.a.formBtn},m.a.createElement(n["a"],{type:"primary",danger:!0,htmlType:"submit"},"\u786e\u8ba4"))),ae&&m.a.createElement(m.a.Fragment,null,void 0!=t.stampMode&&1==t.stampMode&&m.a.createElement(L["a"],{message:"\u60a8\u7684\u7b7e\u7ae0\u8fd8\u672a\u63d0\u4ea4\u6216\u53d6\u6d88\uff0c\u6682\u4e0d\u53ef\u5207\u6362\u5176\u4ed6\u5370\u7ae0\u6e90",type:"warning",showIcon:!0,closable:!0}),1!=t.stampMode&&!Ie&&m.a.createElement("div",{className:it.a.loginInfo},m.a.createElement(D["a"],null,m.a.createElement("span",{className:it.a.over},ft)),m.a.createElement("span",null,"\u5982\u9700\u5207\u6362\u8bf7\u70b9\u51fb"),m.a.createElement(n["a"],{type:"link",onClick:_t},"\u7acb\u5373\u5207\u6362")),Ie&&m.a.createElement(fe["a"],{onRef:Ct,getPagationData:Ht}),!Ie&&m.a.createElement(m.a.Fragment,null,mt&&m.a.createElement(ne["a"],null),!mt&&m.a.createElement("div",null,m.a.createElement(l["a"],{onFinish:Wt,form:y,layout:"horizontal",initialValues:{certName:Ae,orienModel:Se,keywordCheck:!1,keywordOnlyCheck:!1}},m.a.createElement(M["a"],{className:[it.a.pdlr16,it.a.mr10]},m.a.createElement(B["a"],{span:24},m.a.createElement(l["a"].Item,{label:"\u5f53\u524d\u8bc1\u4e66"},m.a.createElement("span",null,tt)))),m.a.createElement(M["a"],{className:it.a.pdlr16},m.a.createElement(B["a"],{span:12},m.a.createElement(l["a"].Item,{name:"orienModel",label:"\u5b9a\u4f4d\u6a21\u5f0f"},m.a.createElement(p["a"],{className:it.a.modelSelect,onChange:Ut,disabled:1==t.customSignature},jt.map((function(e,a){return 4==e.id?m.a.createElement(pt,{disabled:1==t.pagesize,key:a,value:e.id},e.name):m.a.createElement(pt,{key:a,value:e.id},e.name)}))))),1==Se&&!t.isNeedRang&&m.a.createElement(B["a"],{span:12},m.a.createElement(M["a"],null,m.a.createElement(B["a"],{span:2},m.a.createElement(l["a"].Item,{className:it.a.inlineBlock,name:"pageCheck",valuePropName:"checked"},m.a.createElement(re["a"],{onChange:Gt,disabled:1==t.customSignature}))),m.a.createElement(B["a"],{className:it.a.relative,span:13},m.a.createElement(l["a"].Item,{className:it.a.inlineBlock,label:"\u9875\u9762\u8303\u56f4\uff1a",name:"pageRange"},m.a.createElement(r["a"],{disabled:!We||1==t.customSignature,onChange:Kt,className:it.a.rangeInput})),m.a.createElement("span",{className:it.a.morePageErr},G)),m.a.createElement(B["a"],{span:6},m.a.createElement("span",{className:it.a.lh32},"\u5982:(1,2,3-5)"))))),3==Se&&m.a.createElement(M["a"],{className:it.a.keyWordsSetting},m.a.createElement(M["a"],{className:"".concat(it.a.rangeRow," ").concat(it.a.pdl2)},m.a.createElement(B["a"],{span:12},m.a.createElement(l["a"].Item,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}],name:"keyword",label:"\u5173\u952e\u5b57"},m.a.createElement(r["a"],{className:it.a.modelSelect,disabled:1==t.customSignature}))),m.a.createElement(B["a"],{span:11},m.a.createElement("span",{className:"".concat(it.a.keyWordsSettingText," ").concat(it.a.lh32," ").concat(it.a.pdl8)},"\u8bf4\u660e\uff1a\u76d6\u7ae0\u89c4\u5219\u4e3a\uff0c\u5173\u952e\u5b57\u5728\u5370\u7ae0\u56fe\u5f62\u4e2d\u5fc3\u4f4d\u7f6e"))),m.a.createElement(M["a"],{className:"".concat(it.a.rangeRow," ").concat(it.a.pdl50)},!t.isNeedRang&&m.a.createElement(B["a"],{span:1},m.a.createElement(l["a"].Item,{name:"keywordCheck",valuePropName:"checked"},m.a.createElement(re["a"],{onChange:qt,disabled:1==t.customSignature}))),!t.isNeedRang&&m.a.createElement(B["a"],{className:it.a.relative,span:7},m.a.createElement(l["a"].Item,{className:it.a.inlineBlock,label:"\u9875\u9762\u8303\u56f4\uff1a",name:"keywordPageRange"},m.a.createElement(r["a"],{disabled:!De||1==t.customSignature,onChange:Vt,className:it.a.rangeInput})),m.a.createElement("span",{className:it.a.keyPageErr},Y)),!t.isNeedRang&&m.a.createElement(B["a"],{span:4},m.a.createElement("span",{className:"".concat(it.a.keyWordsSettingText," ").concat(it.a.lh32," ").concat(it.a.pdl8)},"\u5982:(1,2,3-5)")),m.a.createElement(B["a"],{span:1},m.a.createElement(l["a"].Item,{name:"keywordOnlyCheck",valuePropName:"checked"},m.a.createElement(re["a"],{disabled:1==t.customSignature}))),m.a.createElement(B["a"],{span:9},m.a.createElement("span",{className:it.a.lh32},"\u53ea\u7b7e\u7f72\u9875\u9762\u7b2c\u4e00\u4e2a\u5173\u952e\u5b57")))),m.a.createElement("div",{className:"".concat(it.a.ukeySelectList," ukeySealsList")},pe&&!v&&m.a.createElement(ie.a,Object(A["a"])({ref:At},Nt),pe.length>=0&&pe instanceof Array&&pe.map((function(e,t){return m.a.createElement("div",{onClick:function(){zt(e),h(t)},className:t==x?e.gmSealstatus<0?"".concat(it.a.stampBox," ").concat(it.a.sealActive," ").concat(it.a.divDisabled," sealDom"):"".concat(it.a.stampBox," ").concat(it.a.sealActive," sealDom"):e.gmSealstatus<0?"".concat(it.a.stampBox," ").concat(it.a.divDisabled," sealDom"):"".concat(it.a.stampBox," sealDom"),key:t},m.a.createElement("img",{className:it.a.stampImage,src:"data:image/png;base64,".concat(e.picBase64)}),m.a.createElement("span",{className:it.a.stampName,style:{bottom:e.gmSealstatus<0&&e.gmSealstatus>-4?"40px":"16px"}},e.sealName),e.gmSealstatus<0&&m.a.createElement("img",{className:it.a.stampWrongIcon,src:Object(P["r"])(e.gmSealstatus)}),e.gmSealstatus<0&&m.a.createElement("span",{className:it.a.stampWrongText},Object(P["q"])(e.gmSealstatus)))}))),v&&m.a.createElement(z["a"],{block:!0,text:v,src:Qe})),m.a.createElement("div",{className:it.a.ukeyFooter},m.a.createElement(M["a"],null,4==Se&&m.a.createElement(B["a"],{className:it.a.pageSetting,span:12},m.a.createElement("span",{onClick:Yt},m.a.createElement("img",{src:be.a}),"\u9a91\u7f1d\u7ae0\u8bbe\u7f6e")),m.a.createElement(B["a"],{className:it.a.subBtnCol,span:4==Se?12:24},m.a.createElement("span",{className:it.a.verifyMsg},Q),m.a.createElement(n["a"],{htmlType:"submit",loading:Ye,disabled:!!(null===x||v||G||Y||qe||Q),className:it.a.subBtn},"\u786e\u5b9a"))))))))))},mt=Object(d["a"])()(ut),dt=a("ntyT"),gt=p["a"].Option,bt=function(e){var t=e.dispatch,a=e.state,d=e.location,g=d.pathname,b=d.query;b=Object(H["k"])(b);var O=l["a"].useForm(),S=Object(i["a"])(O,1),x=S[0],E=Object(H["e"])(g),v=a.isLogin,A=Object(u["useState"])(null),M=Object(i["a"])(A,2),B=M[0],L=M[1],D=Object(u["useState"])(null),F=Object(i["a"])(D,2),W=F[0],U=F[1],G=Object(u["useState"])(null),K=Object(i["a"])(G,2),q=K[0],V=K[1],Y=Object(u["useState"])(!1),J=Object(i["a"])(Y,2),X=J[0],Q=J[1],Z=Object(u["useState"])(!1),$=Object(i["a"])(Z,2),ee=$[0],te=$[1],ae=Object(u["useState"])(!1),ne=Object(i["a"])(ae,2),re=ne[0],ce=ne[1],se=Object(u["useState"])(!1),oe=Object(i["a"])(se,2),le=oe[0],ie=oe[1],pe=Object(u["useState"])(!1),ue=Object(i["a"])(pe,2),me=ue[0],de=ue[1],ge=Object(u["useState"])(!1),be=Object(i["a"])(ge,2),fe=be[0],Oe=be[1],ye=Object(u["useState"])(null),Se=Object(i["a"])(ye,2),je=Se[0],xe=Se[1],he=Object(u["useState"])(null),Ee=Object(i["a"])(he,2),Ne=Ee[0],ve=Ee[1],ke=Object(u["useState"])(null),Ie=Object(i["a"])(ke,2),we=Ie[0],Te=Ie[1],Ce=Object(u["useState"])(1),Ae=Object(i["a"])(Ce,2),Me=Ae[0],Le=Ae[1],De=Object(u["useState"])(null),Re=Object(i["a"])(De,2),Pe=Re[0],Fe=Re[1],We=Object(u["useState"])(null),Ue=Object(i["a"])(We,2),Ge=Ue[0],Ke=Ue[1],qe=Object(u["useState"])(null),Ve=Object(i["a"])(qe,2),ze=Ve[0],He=Ve[1],Ye=Object(u["useState"])("http://"),_e=Object(i["a"])(Ye,2),Je=_e[0],Xe=_e[1],Qe=Object(u["useState"])(b.beforeStep?b.beforeStep.split(","):null),Ze=Object(i["a"])(Qe,2),$e=Ze[0],et=Ze[1],tt=Object(u["useState"])(null),at=Object(i["a"])(tt,2),nt=at[0],rt=at[1],ct=Object(u["useState"])(!1),ot=Object(i["a"])(ct,2),lt=ot[0],it=ot[1],pt=Object(u["useState"])(null),ut=Object(i["a"])(pt,2),bt=ut[0],ft=ut[1],Ot=Object(u["useState"])(!0),yt=Object(i["a"])(Ot,2),St=yt[0],jt=yt[1],xt=Object(u["useState"])(!0),ht=Object(i["a"])(xt,2),Et=ht[0],Nt=ht[1],vt=Object(u["useState"])(!1),kt=Object(i["a"])(vt,2),It=kt[0],wt=kt[1],Tt=Object(u["useState"])(null),Ct=Object(i["a"])(Tt,2),At=Ct[0],Mt=Ct[1],Bt=Object(u["useState"])(null),Lt=Object(i["a"])(Bt,2),Dt=Lt[0],Rt=Lt[1],Pt=Object(u["useRef"])(),Ft=Object(u["useRef"])(),Wt=Object(u["useRef"])(null),Ut=Object(u["useRef"])(!1),Gt=b.surReadSteps?b.surReadSteps.split(","):null,Kt=Object(u["useState"])(!1),qt=Object(i["a"])(Kt,2),Vt=qt[0],zt=qt[1],Ht=Object(u["useState"])([]),Yt=Object(i["a"])(Ht,2),_t=Yt[0],Jt=Yt[1],Xt=Object(u["useState"])(""),Qt=Object(i["a"])(Xt,2),Zt=Qt[0],$t=Qt[1],ea=1==b.isMainFlow,ta=!b.hideTabMenu;Object(u["useEffect"])((function(){b.baseUrl&&Object(H["s"])(b.baseUrl),b.XServiceAddress&&Object(H["t"])(b.XServiceAddress),aa()}),[]),Object(u["useEffect"])((function(){B&&localStorage.setItem("surredClientCode",B)}),[B]),Object(u["useEffect"])((function(){It&&location.reload()}),[It]),Object(u["useEffect"])((function(){re&&re.length>0?va():Jt([])}),[re]),Object(u["useEffect"])((function(){if(ea)if(v){if(clearInterval(Ft.current),Oe(!1),"cloudReader"!=b.appName&&"iSignatureHTML5"!=b.appName){var e={clientCode:E},t=re.filter((function(e){return"MOBILE"==e.sourceType}));t.length>0&&(e.sourceList=t),Object(P["db"])("SetResult",JSON.stringify(e))}}else fe&&(fa(),xa("\u626b\u7801\u767b\u5f55"))}),[v,fe]);var aa=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t,a,n,r,c;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=b.typeModel||"0,1,2,3,4",a=b.sealMode||t.split(",")[0],n=!1,"4"===a&&-1===t.indexOf(a)?n=!0:sa(),!n){e.next=17;break}return ft(!0),Mt("\u6682\u65e0\u8be5\u529f\u80fd\u6388\u6743\uff0c\u8bf7\u8054\u7cfb\u5546\u52a1\u4eba\u5458\u91c7\u8d2d"),e.next=9,Object(R["g"])();case 9:return r=e.sent,r&&E!==r&&(E=r),e.next=13,Object(R["o"])();case 13:c=e.sent,Pt.current=c,V(c),c.length>1&&(te(!0),Q(!0),L(E));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),na=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(a){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"indexPageModel/GetLoginResult",payload:{clientCode:E||B,sourceName:a}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ra=function(e){$t(e),it(!0),"MOBILE"!=e&&"CLOUD"!=e||et(null)},ca=function(){rt(1),et(b.beforeStep);var e=location.href.split("&token=")[0];location.href.indexOf("isDataDown")>-1&&(e=location.href.replace("&isDataDown=true","").replace("&isDataDown=false","")),window.parent.location.href=e,location.href=e,window.parent!=window?window.parent.location.reload():location.reload()},sa=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t,a,n,r,c,o;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["g"])();case 2:return t=e.sent,t&&E!==t&&(E=t),e.next=6,Object(R["o"])();case 6:if(a=e.sent,Pt.current=a,V(a),rt(1),!b||!b.token&&!b.tCode){e.next=15;break}return n={token:b.token||"",tCode:b.tCode||"",refreshCode:b.refreshCode||"",code:b.code&&"undefined"!=b.code?decodeURIComponent(b.code):"",refreshToken:b.refreshToken||"",tokeneffectivetime:b.tokeneffectivetime||"",tokenCreateTime:b.tokenCreateTime||"",userCode:b.clientUserCode||"",signatureMode:b.SignatureMode||0},e.next=14,Object(R["K"])(E,"TG_TIMEVALE",n,b);case 14:b.isDataDown&&"false"!=b.isDataDown&&Oa();case 15:if(!(a instanceof Array)){e.next=42;break}if(Ke(null),r=Object(P["z"])("formClientCode"),r&&(c=a.findIndex((function(e){return e.user_code==r})),-1!==c&&la(a[c].user_code)),!E||0==E){e.next=26;break}return r||(b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0"),a.length>1&&Q(!0)),L(E),la(E),e.abrupt("return");case 26:if(1!=a.length){e.next=35;break}if(""!=a[0].user_code){e.next=32;break}return Ke("\u6ca1\u6709\u53ef\u7528\u7684\u9879\u76ee,\u8bf7\u68c0\u67e5\u60a8\u7684\u914d\u7f6e"),e.abrupt("return");case 32:la(a[0].user_code);case 33:e.next=36;break;case 35:b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0");case 36:a.length>1&&Q(!0),o=localStorage.getItem("surredClientCode"),o&&a.forEach((function(e){e.user_code!=o||la(e.user_code)})),0==E&&a.forEach((function(e){if(e.user_code)return E=e.user_code,L(e.user_code),void la(a[0].user_code||e.user_code)}));case 40:e.next=43;break;case 42:Ke(a);case 43:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oa=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var a,n,r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.setItem("surredClientCode",t),e.next=3,Object(R["E"])(t);case 3:return e.next=5,Object(R["t"])(t);case 5:if(a=e.sent,n=Object(H["h"])(a),Rt(null),!n){e.next=10;break}return e.abrupt("return");case 10:wt(!0),et(null),L(t),la(t,!0),B!==t&&(r=location.href.replace(B,t),location.href=r);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),la=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var a,n,r,c,o,l,i,p,u,m,d,g,f,O;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return L(t),Pt.current.map((function(e){e.user_code==t&&U(e.user_name)})),E=t,a=ha(["weburl","weburlEx","account","network","protocol"]),e.next=6,Object(R["H"])(E,a);case 6:if(n=e.sent,!n){e.next=12;break}if(Ke(null),n.network&&1!=n.network){if(r=n.weburl,c=n.protocol,b.baseUrl){o=Object(P["z"])("iSignatureParams");try{l=JSON.parse(o),r=l.weburl,c=l.httpType}catch(s){}}Le(n.network),i=(r+n.weburlEx).match(new RegExp(/(\w+):\/\/([^/:]+)(:\d*)?/)),He(i),Xe("http"==c?"http://":"https"==c?"https://":c)}e.next=14;break;case 12:return Ke("\u5f53\u524d\u8bbf\u95ee\u9875\u9762\u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u5ba2\u6237\u7aef\u662f\u5426\u5b89\u88c5\u6b63\u5e38"),e.abrupt("return");case 14:return te(!0),b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0"),e.next=18,Object(R["r"])(E);case 18:if(p=e.sent,Array.isArray(p)){e.next=25;break}return Ke(p.message||"\u5370\u7ae0\u6e90\u5217\u8868\u83b7\u53d6\u5931\u8d25"),te(!1),de(!1),Oe(!1),e.abrupt("return");case 25:return Nt(p),e.next=28,Object(R["L"])(E);case 28:if(u=e.sent,!u){e.next=34;break}return ft(!0),e.abrupt("return");case 34:ft(!1);case 35:m=Object(P["i"])(p),Te(p),m&&m instanceof Array&&(d=Object(P["k"])(m),("PDF"!==b.appName&&"OFD"!==b.appName&&"pdf"!==b.docType&&"ofd"!==b.docType||1!=b.SignatureMode)&&(d=d.filter((function(e){return"USP_UKEY"!==e.sourceName}))),("PDF"!==b.appName&&"pdf"!==b.docType||1!=b.SignatureMode)&&(d=d.filter((function(e){return"TG_SAAS"!==e.sourceName}))),"iSignatureHTML5"!==b.appName||"ofd"!==b.docType&&b.docType||(d=d.filter((function(e){return"CA_MOBILE"!==e.sourceName&&"TG_SAAS"!==e.sourceName}))),"OFD"===b.appName&&(d=d.filter((function(e){return"TG_SAAS"!==e.sourceName&&"CA_MOBILE"!==e.sourceName}))),d.forEach((function(e){-1!=e.sourceName.indexOf("KG_UKEY")&&ie(!0)})),g=Object(H["i"])(),g||(d=d.filter((function(e){return"TG_SAAS"!==e.sourceName&&"CA_MOBILE"!==e.sourceName}))),b.sourceFilter&&(f=b.sourceFilter.split(","),d=d.filter((function(e){var t=e.sourceName.split(",");return t.some((function(e){return f.includes(e)}))}))),ce(d),d.length>1?zt(!0):1!==d.length||"TG_TIMEVALE"!==d[0].sourceName&&"KG_UKEY"!==d[0].sourceName||"KG_UKEY"===d[0].sourceName&&n&&1==n.network?zt(!1):zt(!0),O=sessionStorage.getItem("sourceType"),O&&d.some((function(e){return e.sourceType==O}))?da(O,p):b.sourceType&&d.some((function(e){return e.sourceType==b.sourceType}))?da(b.sourceType,p):d[0]?da(d[0].sourceType,p):Rt("\u6ca1\u6709\u53ef\u7528\u7684\u5370\u7ae0\u6e90\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u914d\u7f6e"));case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u["useEffect"])((function(){ft(!1),Mt(""),"CLOUD"===Zt&&Ut.current&&Wt.current&&(Wt.current.openNetworkConfig(),Ut.current=!1)}),[Zt]);var ia=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t,a){var n,r,c,o,l;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),te(!1),"TG_TIMEVALE"!==a){e.next=6;break}return"CLOUD"!==Zt?($t("CLOUD"),Ut.current=!0):Wt.current&&Wt.current.openNetworkConfig(),e.abrupt("return");case 6:return b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0"),n=ha(["account"]),e.next=10,Object(R["H"])(E,n);case 10:if(r=e.sent,c=r.account,b.baseUrl){o=Object(P["z"])("iSignatureParams");try{l=JSON.parse(o),c=l.virtKey}catch(s){c=""}}""!=c&&x.setFieldValue("keySn",c),de(!0);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pa=function(e){Xe(e)},ua=m.a.createElement(p["a"],{onChange:pa,value:Je,className:"select-before"},m.a.createElement(gt,{value:"http://"},"http://"),m.a.createElement(gt,{value:"https://"},"https://")),ma=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var a,n,r,c,o,l,i,p,u,m,d,g,f,O,y,S,j,x,h,N,v,k;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.netSeeting,n=t.netCode,r=t.keySn,c=t.passWord,o="",l="",3==Me&&(o=r,l=c),!o||l){e.next=7;break}return Fe("\u8bf7\u914d\u7f6e\u5bc6\u94a5\u76d8\u5bc6\u7801"),e.abrupt("return");case 7:if(i="".concat(Je).concat(a,":").concat(n),p=Je,"http://"==Je?p="http":"https://"==Je&&(p="https"),!b.baseUrl){e.next=23;break}return u={virtKey:o,httpType:Je,netSeeting:a,netCode:n,weburl:"".concat(Je).concat(a,":").concat(n)},Object(P["vb"])("iSignatureParams",JSON.stringify(u),1e4),e.next=15,Object(R["z"])(E,"KG_UKEY",b.SignatureMode);case 15:return m=e.sent,d="".concat(i,"/iSignatureServer/OfficeServer.jsp"),e.next=19,Object(R["B"])(E,"KG_UKEY",b.SignatureMode,o,l,d,m.pinmode);case 19:g=e.sent,0==g.code?ea?(f={sourceList:[],clientCode:E},we.forEach((function(e){"UKEY"==e.sourceType&&f.sourceList.push(e)})),"cloudReader"!=b.appName&&"iSignatureHTML5"!=b.appName&&(b.sourceType||Object(P["db"])("SetResult",JSON.stringify(f)))):(b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0"),$t("UKEY"),te(!0),de(!1),Oe(!1),Fe(null)):Fe(g.message),e.next=48;break;case 23:return O=ha(["weburl","account","protocol"],{weburl:i,account:o,protocol:p}),O.paramsInfo.find((function(e){return"protocol"===e.paramName})).paramName="network",e.next=27,Object(R["M"])(E,O);case 27:if(y=e.sent,"success"!=y){e.next=47;break}return S=ha(["weburl","weburlEx","account","network"]),e.next=32,Object(R["H"])(E,S);case 32:if(j=e.sent,!j){e.next=44;break}return e.next=36,Object(R["z"])(E,"KG_UKEY",b.SignatureMode);case 36:return x=e.sent,h=j.weburl+j.weburlEx,e.next=40,Object(R["B"])(E,"KG_UKEY",b.SignatureMode,o,l,h,x.pinmode);case 40:N=e.sent,0==N.code?ea?(v={sourceList:[],clientCode:E},we.forEach((function(e){"UKEY"==e.sourceType&&v.sourceList.push(e)})),"cloudReader"!=b.appName&&"iSignatureHTML5"!=b.appName&&(b.sourceType||Object(P["db"])("SetResult",JSON.stringify(v)))):(N.virutalKeySN&&N.virutalKeySN!=o&&(k=ha(["account"],{account:N.virutalKeySN}),Object(R["M"])(E,k)),b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0"),$t("UKEY"),te(!0),de(!1),Oe(!1),Fe(null)):Fe(N.message),e.next=45;break;case 44:Fe("\u8bfb\u53d6\u6587\u4ef6\u5931\u8d25\uff01");case 45:e.next=48;break;case 47:Fe(y);case 48:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),da=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t,a){var n,r,c,o,l,i,p,u,m,d,g,f,O,y,S,j,x,h,N,v,k,I,w,T,C,A,M,L,D,F,W,U,G,K,q,V,z,H,Y,_,J,X,Q,Z,$,ee,te,ae,ne;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("cloudReader"!=b.appName&&"iSignatureHTML5"!=b.appName&&Object(P["db"])("SetWidgetSize","664,562"),!$e){e.next=3;break}return e.abrupt("return");case 3:if($t(t),b.sourceType==t){e.next=60;break}if(0!=b.stampMode&&void 0!=b.stampMode){e.next=60;break}if(n=localStorage.getItem("surredClientCode"),n?E=n:E&&"0"!=E||(E=B),localStorage.setItem("surredClientCode",E),!ea){e.next=36;break}if("MOBILE"!=t){e.next=15;break}Oe(!0),Ft.current=setInterval((function(){na("CA_MOBILE")}),1e3),e.next=35;break;case 15:if("UKEY"!=t){e.next=35;break}return r={sourceList:[],clientCode:E},(we||a)&&(c=we||a,c.forEach((function(e){"UKEY"==e.sourceType&&r.sourceList.push(e)}))),o=ha(["weburl","weburlEx","account","network","protocol"]),e.next=21,Object(R["H"])(E,o);case 21:if(l=e.sent,"object"!==typeof l&&(l={}),i=l,p=i.network,u=void 0===p?1:p,m=i.account,d=void 0===m?"":m,g=i.weburl,f=void 0===g?"":g,O=i.weburlEx,y=void 0===O?"":O,S=f+y,j=d,b.baseUrl){x=Object(P["z"])("iSignatureParams");try{h=JSON.parse(x),N=h.httpType,v=h.netSeeting,k=h.netCode,I=h.virtKey,S="".concat(N).concat(v,":").concat(k).concat(y),j=I}catch(s){j=""}}if(1==u){e.next=34;break}return e.next=30,Object(R["B"])(E,"KG_UKEY",b.SignatureMode,j,"",S);case 30:w=e.sent,0==w.code?"cloudReader"!=b.appName&&"iSignatureHTML5"!=b.appName&&(b.sourceType||Object(P["db"])("SetResult",JSON.stringify(r))):(b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0\u914d\u7f6e\u9879"),de(!0),Oe(!1),Fe(w.message)),e.next=35;break;case 34:"cloudReader"!=b.appName&&"iSignatureHTML5"!=b.appName&&(b.sourceType||Object(P["db"])("SetResult",JSON.stringify(r)));case 35:return e.abrupt("return");case 36:if("UKEY"!=t){e.next=59;break}return T=ha(["weburl","weburlEx","account","network","protocol"]),e.next=40,Object(R["H"])(E,T);case 40:if(C=e.sent,"object"!==typeof C&&(C={}),A=C,M=A.network,L=void 0===M?1:M,D=A.account,F=void 0===D?"":D,W=A.weburl,U=void 0===W?"":W,G=A.weburlEx,K=void 0===G?"":G,q=U+K,V=F,b.baseUrl){z=Object(P["z"])("iSignatureParams");try{H=JSON.parse(z),Y=H.httpType,_=H.netSeeting,J=H.netCode,X=H.virtKey,q="".concat(Y).concat(_,":").concat(J).concat(K),V=X}catch(s){V=""}}if(Q=!1,a?(Z=a.findIndex((function(e){return"KG_UKEY"===e.sourceName})),-1!==Z&&(Q=!0)):Q=le,2!=L&&3!=L||!Q){e.next=56;break}return e.next=51,Object(R["B"])(E,"KG_UKEY",b.SignatureMode,2==L?"":V,"",q);case 51:$=e.sent,ee=$.code,te=$.virutalKeySN,ae=$.message,0==ee?(te&&te!=V&&!b.baseUrl&&(ne=ha(["account"],{account:te}),Object(R["M"])(E,ne)),b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0")):(b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0\u914d\u7f6e\u9879"),de(!0),Oe(!1),Fe(ae)),e.next=57;break;case 56:b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0");case 57:e.next=60;break;case 59:"CLOUD"==t&&(de(!1),ft(!1),Oe(!1));case 60:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ga=function(){te(!0),b.sourceType||xa("\u7535\u5b50\u7b7e\u7ae0"),de(!1),Oe(!1),Fe(null)},ba=function(){if("OFD"==b.appName||"PDF"==b.appName||"pdf"===b.docType||"ofd"===b.docType){var e={oldMode:1};eSign.UrlContainer.SetResult(JSON.stringify(e))}},fa=function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={clientCode:E,sourceName:"CA_MOBILE",providerName:localStorage.getItem("providerName")||"e\u7b7e\u76fe"},Object(dt["h"])(a).then((function(e){t({type:"indexPageModel/providerName",payload:{providerName:e.data.CAProviderList[0].providerName}})})),Object(dt["i"])(a).then((function(e){var t=e.data,a=t.reMark,n=t.data.url;ve(n),xe(a),Object(P["vb"])("scanTypeTip",a,1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();window.closeWindow=function(){b.stampMode||sessionStorage.removeItem("sourceType")};var Oa=function(){et(["2"]),rt(2)},ya=function(e){jt(e)},Sa=function(e){ft(!0),Mt(e),window.parent!==window&&window.parent.location.reload()},ja=function(e){te(e)},xa=function(e){"cloudReader"!=b.appName&&"iSignatureHTML5"!=b.appName&&Object(P["db"])("SetTitle",e)},ha=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[{paramName:"weburl",paramXPath:"GoldGrid/Public/WebUrl",paramAttribute:""},{paramName:"weburlEx",paramXPath:"GoldGrid/Public/WebUrlEx",paramAttribute:""},{paramName:"account",paramXPath:"GoldGrid/Public/VirtualKeyNumber",paramAttribute:""},{paramName:"network",paramXPath:"GoldGrid/Public/NetworkMode",paramAttribute:""},{paramName:"protocol",paramXPath:"GoldGrid/Public/Protocol",paramAttribute:""}],n=a.filter((function(t){return e.indexOf(t.paramName)>-1})),r=function(e){n.forEach((function(a){a.paramName==e&&(a.paramValue=t[e])}))};for(var c in t)r(c);return{"iFileType ":1,envirmentPath:"%KGGoldSetting%",paramsInfo:n}},Ea=function(e){return"OFD"!=b.appName&&"ofd"!==b.docType||("OFD"==b.appName||"ofd"===b.docType)&&"RSA"!=e.supportCertType||b.certType&&(0==b.certType.length||b.certType==e.supportCertType||"ALL"==e.supportCertType)},Na=function(e){return-1!=e.sourceName.indexOf("KG_UKEY")&&1!=Me||-1!=e.sourceName.indexOf("TG_TIMEVALE")&&(!("OFD"!=b.appName&&"ofd"!==b.docType||b.certType&&(0==b.certType.length||b.certType==e.supportCertType||"ALL"==e.supportCertType))||!b.baseUrl)},va=function(){var e=re.map((function(e){if(Ea){var t=1==b.stampMode||Zt!==e.sourceType&&lt;return{label:m.a.createElement("div",null,m.a.createElement("span",null,Object(P["s"])(e.sourceType)),Na(e)&&m.a.createElement("img",{src:j.a,className:y.a.settingBtn,onClick:function(t){ia(t,e.sourceName)}})),disabled:t,key:e.sourceType,children:""}}}));Jt(e)},ka=function(e){da(e)};return m.a.createElement("div",null,St&&m.a.createElement("div",null,$e&&m.a.createElement(m.a.Fragment,null,$e.indexOf("1")>-1&&1==nt&&m.a.createElement("div",null,m.a.createElement(C["a"],{isVisible:St,clientCodeList:q,clientCode:E,SignatureMode:b.SignatureMode||0,handleCallback:ra})),$e.indexOf("2")>-1&&2==nt&&m.a.createElement("div",null,m.a.createElement(_,{changeVisible:ya,loginExit:ca,current:nt,clientCode:E,SignatureMode:b.SignatureMode||0}))),!$e&&m.a.createElement("div",{style:{overflow:"SAAS"==Zt?"hidden":"scroll"}},Ge&&m.a.createElement(z["a"],{text:Ge,src:k.a,block:!0,customStyle:{paddingTop:"200px"}}),Dt&&m.a.createElement(z["a"],{block:!0,showImg:!1,text:Dt,customStyle:{paddingTop:"200px"}}),ee&&!me&&!fe&&!Ge&&ta&&m.a.createElement("div",{className:y.a.sourceList},Vt&&!Dt&&m.a.createElement("div",{className:"".concat(X&&!fe?y.a.tabsContainer:"")},m.a.createElement(c["a"],{items:_t,onChange:ka,activeKey:Zt})),X&&!fe&&m.a.createElement("div",{className:y.a.selectWrap},m.a.createElement("div",{className:y.a.selectPro},m.a.createElement(p["a"],{className:y.a.projectSelect,onChange:oa,value:B,disabled:1==b.stampMode},q&&q.map((function(e,t){return e.user_code?m.a.createElement(gt,{key:t,value:e.user_code},e.user_name):m.a.createElement(gt,{className:y.a.disableOption,key:t,value:e.user_code},e.user_name,"(\u65e0clientcode)")})))))),me&&!fe&&!Ge&&!bt&&m.a.createElement("div",{className:y.a.setting},m.a.createElement(l["a"],{form:x,labelAlign:"right",className:y.a.chapterInputGroup,initialValues:{remember:!0,netSeeting:ze?ze[2]:"",netCode:ze?ze[3].replace(/:/g,""):""},onFinish:ma},m.a.createElement("div",{className:y.a.tit,style:{marginTop:"48px"}},"\u7f51\u7edc\u914d\u7f6e"),m.a.createElement("div",{className:"settingCode",style:{display:"flex"}},m.a.createElement(l["a"].Item,{label:"\u670d\u52a1\u5668\u914d\u7f6e\uff1a",name:"netSeeting",hasFeedback:!0,validateStatus:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u670d\u52a1\u5668\u5730\u5740"}]},m.a.createElement(r["a"],{addonBefore:ua,className:y.a.bindInput,type:"text",placeholder:"\u8bf7\u8f93\u5165\u670d\u52a1\u5668\u5730\u5740"})),m.a.createElement(l["a"].Item,{label:"\u7aef\u53e3\uff1a",name:"netCode",style:{marginLeft:"10px"},rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7aef\u53e3"}]},m.a.createElement(r["a"],{className:y.a.netCodeInput,type:"text",width:"60px"}))),m.a.createElement("div",{className:y.a.netErrText},Pe),3==Me&&m.a.createElement("div",{className:y.a.keyBox},m.a.createElement("div",{className:y.a.tit,style:{marginTop:"0"}},"\u865a\u62df\u5bc6\u94a5\u76d8\u914d\u7f6e"),m.a.createElement(l["a"].Item,{label:"\u5bc6\u94a5\u76d8\u5e8f\u53f7\uff1a",name:"keySn",hasFeedback:!0,validateStatus:!0,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u5e8f\u5217\u53f7"}]},m.a.createElement(r["a"],{className:y.a.keySnInput,type:"text",placeholder:"\u8bf7\u8f93\u5165\u5e8f\u5217\u53f7"})),m.a.createElement(l["a"].Item,{label:"\u5bc6\u94a5\u76d8\u5bc6\u7801\uff1a",name:"passWord",hasFeedback:!0,validateStatus:!0,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u5bc6\u94a5\u76d8\u5bc6\u7801"}]},m.a.createElement(r["a"].Password,{className:y.a.passWordInput,type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}))),m.a.createElement("div",null,m.a.createElement(n["a"],{onClick:ga,className:y.a.btnBack,danger:!0},"\u8fd4\u56de"),m.a.createElement(n["a"],{type:"primary",danger:!0,className:y.a.btnSave,htmlType:"submit"},"\u4fdd\u5b58")))),fe&&m.a.createElement("div",{className:y.a.elctMobile},m.a.createElement("div",{className:y.a.wishScanPage},m.a.createElement("div",{className:y.a.wishScanTitle},"e\u7b7e\u76fe"),m.a.createElement("div",{className:y.a.wishScanBody},m.a.createElement("div",{className:y.a.scanBox},Ne&&(Ne.startsWith("http")?m.a.createElement(f.a,{size:160,value:Ne}):m.a.createElement("img",{style:{width:"200px",height:"200px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},src:"data:image/png;base64,"+Ne}))),Ne&&Ge&&m.a.createElement("div",{style:{color:"red",fontSize:"14px",margin:"5px 0"}},Ge)),m.a.createElement("div",{className:y.a.wishScanFooter},m.a.createElement("div",{className:y.a.scanTip},je||"")))),!me&&!fe&&!bt&&m.a.createElement("div",null,"MOBILE"==Zt&&m.a.createElement(I["default"],{isDataDown:lt,query:b,sourceType:Zt,projectId:B}),"UKEY"==Zt&&m.a.createElement(w["default"],{query:b,sourceType:Zt,sealSource:Et}),"CLOUD"==Zt&&m.a.createElement(T["default"],{onRef:Wt,getError:Sa,changeVisible:ya,isVisible:St,beforeStep:$e,handleSetCurrentStep:Oa,isDataDown:lt,query:b,sourceType:Zt,changeProjectId:It,sealSource:Et,changeSelectSource:ja}),"USP_CLOUD"===Zt&&m.a.createElement(Be,{clientCode:B}),"SAAS"===Zt&&m.a.createElement(st,{projectId:B}),"KG_CLOUD"===Zt&&m.a.createElement(mt,{clientCode:B,query:b,sourceType:Zt,sealSource:Et})),!bt&&("OFD"==b.appName||"ofd"===b.docType)&&Gt&&Gt.indexOf("1")>-1&&m.a.createElement("div",{className:y.a.toolsItem,onClick:ba},m.a.createElement("span",{className:y.a.toolsIco},m.a.createElement("img",{src:N.a})),m.a.createElement("span",{className:y.a.toolsTxt},"\u6a21\u5f0f\u5207\u6362")),bt&&m.a.createElement("div",{className:y.a.noEmpower},m.a.createElement("img",{src:h.a}),m.a.createElement("div",null,At?m.a.createElement("span",null,At):m.a.createElement("span",null,W,"\u4e13\u7528\u6388\u6743\u5df2\u8fc7\u671f\uff0c\u8bf7\u8054\u7cfb\u5382\u5546\u66f4\u65b0\u6388\u6743"))))))};t["default"]=Object(d["a"])((function(e){var t=e.indexPageModel;return{state:t}}))(Object(g["n"])(bt))},P9vX:function(e,t,a){e.exports={loginPage:"antd-pro-pages-select-mode-components-saas-index-loginPage",loginPageX:"antd-pro-pages-select-mode-components-saas-index-loginPageX",loginLeft:"antd-pro-pages-select-mode-components-saas-index-loginLeft",loginRegisterLeft:"antd-pro-pages-select-mode-components-saas-index-loginRegisterLeft",iframe:"antd-pro-pages-select-mode-components-saas-index-iframe",iframe1:"antd-pro-pages-select-mode-components-saas-index-iframe1",loginRight:"antd-pro-pages-select-mode-components-saas-index-loginRight",loginHeader:"antd-pro-pages-select-mode-components-saas-index-loginHeader",loginBody:"antd-pro-pages-select-mode-components-saas-index-loginBody",qrBox:"antd-pro-pages-select-mode-components-saas-index-qrBox",qrBoxSpan:"antd-pro-pages-select-mode-components-saas-index-qrBoxSpan",qrCodeExpire:"antd-pro-pages-select-mode-components-saas-index-qrCodeExpire",qrCodeMask:"antd-pro-pages-select-mode-components-saas-index-qrCodeMask",qrBoxWH:"antd-pro-pages-select-mode-components-saas-index-qrBoxWH",qrBoxNetErr:"antd-pro-pages-select-mode-components-saas-index-qrBoxNetErr",loginLeftTit:"antd-pro-pages-select-mode-components-saas-index-loginLeftTit",loginLeftContent:"antd-pro-pages-select-mode-components-saas-index-loginLeftContent",loginFooterForm:"antd-pro-pages-select-mode-components-saas-index-loginFooterForm",loginFooterRegister:"antd-pro-pages-select-mode-components-saas-index-loginFooterRegister",docActColor:"antd-pro-pages-select-mode-components-saas-index-docActColor",avatarTs:"antd-pro-pages-select-mode-components-saas-index-avatarTs",mg16Point:"antd-pro-pages-select-mode-components-saas-index-mg16Point",docAgree:"antd-pro-pages-select-mode-components-saas-index-docAgree",textLeft:"antd-pro-pages-select-mode-components-saas-index-textLeft",hasAccount:"antd-pro-pages-select-mode-components-saas-index-hasAccount",qrCodeText:"antd-pro-pages-select-mode-components-saas-index-qrCodeText",qrCodeIcon:"antd-pro-pages-select-mode-components-saas-index-qrCodeIcon",close:"antd-pro-pages-select-mode-components-saas-index-close",error:"antd-pro-pages-select-mode-components-saas-index-error",tips:"antd-pro-pages-select-mode-components-saas-index-tips",tipsContent:"antd-pro-pages-select-mode-components-saas-index-tipsContent",realnameTips:"antd-pro-pages-select-mode-components-saas-index-realnameTips",realnameBtn:"antd-pro-pages-select-mode-components-saas-index-realnameBtn"}},Y0q2:function(e,t,a){e.exports={selectWrap:"antd-pro-pages-select-mode-index-selectWrap",projectSelect:"antd-pro-pages-select-mode-index-projectSelect",sureBtn:"antd-pro-pages-select-mode-index-sureBtn",errText:"antd-pro-pages-select-mode-index-errText",noSource:"antd-pro-pages-select-mode-index-noSource",sourceList:"antd-pro-pages-select-mode-index-sourceList",sourceIcon:"antd-pro-pages-select-mode-index-sourceIcon",sourceN:"antd-pro-pages-select-mode-index-sourceN",settingBtn:"antd-pro-pages-select-mode-index-settingBtn",sourceTab:"antd-pro-pages-select-mode-index-sourceTab",setting:"antd-pro-pages-select-mode-index-setting","select-before":"antd-pro-pages-select-mode-index-select-before",chapterInputGroup:"antd-pro-pages-select-mode-index-chapterInputGroup",tit:"antd-pro-pages-select-mode-index-tit",netCodeInput:"antd-pro-pages-select-mode-index-netCodeInput",keySnInput:"antd-pro-pages-select-mode-index-keySnInput",passWordInput:"antd-pro-pages-select-mode-index-passWordInput",netErrText:"antd-pro-pages-select-mode-index-netErrText",wishScanPage:"antd-pro-pages-select-mode-index-wishScanPage",wishScanTitle:"antd-pro-pages-select-mode-index-wishScanTitle",wishScanBody:"antd-pro-pages-select-mode-index-wishScanBody",scanBox:"antd-pro-pages-select-mode-index-scanBox",wishScanFooter:"antd-pro-pages-select-mode-index-wishScanFooter",scanTip:"antd-pro-pages-select-mode-index-scanTip",scanErr:"antd-pro-pages-select-mode-index-scanErr",btnGroup:"antd-pro-pages-select-mode-index-btnGroup",btnBack:"antd-pro-pages-select-mode-index-btnBack",btnSave:"antd-pro-pages-select-mode-index-btnSave",activeSource:"antd-pro-pages-select-mode-index-activeSource",sourceBox:"antd-pro-pages-select-mode-index-sourceBox",sourceName:"antd-pro-pages-select-mode-index-sourceName",disableOption:"antd-pro-pages-select-mode-index-disableOption",noEmpower:"antd-pro-pages-select-mode-index-noEmpower",toolsItem:"antd-pro-pages-select-mode-index-toolsItem",toolsIcon:"antd-pro-pages-select-mode-index-toolsIcon",toolsIco:"antd-pro-pages-select-mode-index-toolsIco",toolsTxt:"antd-pro-pages-select-mode-index-toolsTxt",source1:"antd-pro-pages-select-mode-index-source1",source2:"antd-pro-pages-select-mode-index-source2",source:"antd-pro-pages-select-mode-index-source",tabsContainer:"antd-pro-pages-select-mode-index-tabsContainer"}},eQXm:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAQBJREFUOE/d1L0uRFEUxfHfvAFaovEAzBNoBa8hg1fwlch0FNNIfDV4ASISiYZGBA+g8PEIaClMtpxJrpMzpplqdnXvuSsrZ//3uruGGaxjxN/6wik28INJbGE8071js4ZbHOI6EwzhAA084ghvOEnGHfk0FsLoCXN4yYzi9QItXOEcO7jMdBOhG3CjO+zipgvsZdwnyM84znQBeykYzWMVMaVqfSfAK2lKdWxjNNN9ohlGnao+x1lkp1RFXV+NZrGG4UJrZ+lb3G4qtTaW6T6qyd7/B/ZiJdmvXWA3BjyQfftpI9l7PWA/pGTHhiitkV/YsUIi2b3GH8mOxVYaf7MNCtNxHdDjjjEAAAAASUVORK5CYII="},fIQR:function(e,t,a){e.exports={takeChapterPage:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-takeChapterPage",errWord:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-errWord",errorTit:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-errorTit",over:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-over",stampBox:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-stampBox",stampImage:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-stampImage",stampName:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-stampName",explain:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-explain",pageNum:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-pageNum",ErrTip:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-ErrTip",morePageErrTip:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-morePageErrTip",keyWord:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-keyWord",takeChapterHeader:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-takeChapterHeader",close:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-close",morePage:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-morePage",imgNoData:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-imgNoData",imgBox:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-imgBox",radioBox:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-radioBox",ukey:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-ukey",stampCard:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-stampCard",takeChapterSelect:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-takeChapterSelect",errorMsg:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-errorMsg",selectInput:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-selectInput",tit1:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-tit1",takeChapterFooter:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-takeChapterFooter",verifyMsg:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-verifyMsg",takeChapter:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-takeChapter",spin:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-spin",takeChapterBody:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-takeChapterBody",chapterSelect:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-chapterSelect",flex:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-flex",takeChapterRG:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-takeChapterRG",leftBtn:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-leftBtn",rightBtn:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-rightBtn",loader:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-loader",loadingK:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-loadingK","k-loadingM":"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-k-loadingM",loadingL:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-loadingL","k-loadingN":"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-k-loadingN",circle:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-circle","circle-before":"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-circle-before","circle-after":"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-circle-after",sealType:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-sealType",toStampBtn:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-toStampBtn",loadBox:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-loadBox",loadSpin:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-loadSpin",subjectType:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-subjectType",subjectSelect:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-subjectSelect",takeSelect:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-takeSelect",pageListInput:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-pageListInput",specifyPageInput:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-specifyPageInput",footerTip:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-footerTip",footerTipA:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-footerTipA",payScan:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-payScan",payQrCode:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-payQrCode",payScanTxt:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-payScanTxt",setting:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-setting",polymorphic:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-polymorphic",errTip:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-errTip",toBuy:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-toBuy",go:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-go",rotation:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-rotation",createComponyBody:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-createComponyBody",componyBodyText:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-componyBodyText",componyBodyErr:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-componyBodyErr",applyCompony:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-applyCompony",componyBodyWarn:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-componyBodyWarn",createIcon:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-createIcon",vip1:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-vip1",vip2:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-vip2",vip3:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-vip3",vip4:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-vip4",vip5:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-vip5",vip6:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-vip6",vip7:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-vip7",notVip:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-notVip",notRealOrg:"antd-pro-pages-select-mode-components-saas-components-select-chapter-index-notRealOrg"}},m4qs:function(e,t,a){e.exports={ukeySelectPage:"antd-pro-pages-platform-stamp-index-ukeySelectPage",cloudSelectPage:"antd-pro-pages-platform-stamp-index-cloudSelectPage",ukeySelectHeader:"antd-pro-pages-platform-stamp-index-ukeySelectHeader",form:"antd-pro-pages-platform-stamp-index-form",stampBox:"antd-pro-pages-platform-stamp-index-stampBox",stampImage:"antd-pro-pages-platform-stamp-index-stampImage",stampName:"antd-pro-pages-platform-stamp-index-stampName",stampWrongText:"antd-pro-pages-platform-stamp-index-stampWrongText",stampWrongIcon:"antd-pro-pages-platform-stamp-index-stampWrongIcon",triggerBtn:"antd-pro-pages-platform-stamp-index-triggerBtn",sealActive:"antd-pro-pages-platform-stamp-index-sealActive",ukeySelectList:"antd-pro-pages-platform-stamp-index-ukeySelectList",ukeyFooter:"antd-pro-pages-platform-stamp-index-ukeyFooter",subBtnCol:"antd-pro-pages-platform-stamp-index-subBtnCol",verifyMsg:"antd-pro-pages-platform-stamp-index-verifyMsg",subBtn:"antd-pro-pages-platform-stamp-index-subBtn",backBtn:"antd-pro-pages-platform-stamp-index-backBtn",pageSetting:"antd-pro-pages-platform-stamp-index-pageSetting",keyWordsSetting:"antd-pro-pages-platform-stamp-index-keyWordsSetting",keyWordsSettingText:"antd-pro-pages-platform-stamp-index-keyWordsSettingText",keyWordSelect:"antd-pro-pages-platform-stamp-index-keyWordSelect",pdlr16:"antd-pro-pages-platform-stamp-index-pdlr16",lh32:"antd-pro-pages-platform-stamp-index-lh32",certSelect:"antd-pro-pages-platform-stamp-index-certSelect",modelSelect:"antd-pro-pages-platform-stamp-index-modelSelect",rangeInput:"antd-pro-pages-platform-stamp-index-rangeInput",pdl50:"antd-pro-pages-platform-stamp-index-pdl50",rangeRow:"antd-pro-pages-platform-stamp-index-rangeRow",pdl8:"antd-pro-pages-platform-stamp-index-pdl8",pdl14:"antd-pro-pages-platform-stamp-index-pdl14",pdl2:"antd-pro-pages-platform-stamp-index-pdl2",divDisabled:"antd-pro-pages-platform-stamp-index-divDisabled",relative:"antd-pro-pages-platform-stamp-index-relative",morePageErr:"antd-pro-pages-platform-stamp-index-morePageErr",keyPageErr:"antd-pro-pages-platform-stamp-index-keyPageErr",triggerUkey:"antd-pro-pages-platform-stamp-index-triggerUkey",select:"antd-pro-pages-platform-stamp-index-select","ant-select-selector":"antd-pro-pages-platform-stamp-index-ant-select-selector",cloudError:"antd-pro-pages-platform-stamp-index-cloudError",cloudErrorContent:"antd-pro-pages-platform-stamp-index-cloudErrorContent"}},"qrt/":function(e,t,a){e.exports={iSignature:"antd-pro-pages-select-mode-components-i-signature-index-iSignature",form:"antd-pro-pages-select-mode-components-i-signature-index-form",formBtn:"antd-pro-pages-select-mode-components-i-signature-index-formBtn",keyWordSelect:"antd-pro-pages-select-mode-components-i-signature-index-keyWordSelect",pdlr16:"antd-pro-pages-select-mode-components-i-signature-index-pdlr16",lh32:"antd-pro-pages-select-mode-components-i-signature-index-lh32",certSelect:"antd-pro-pages-select-mode-components-i-signature-index-certSelect",modelSelect:"antd-pro-pages-select-mode-components-i-signature-index-modelSelect",rangeInput:"antd-pro-pages-select-mode-components-i-signature-index-rangeInput",pdl50:"antd-pro-pages-select-mode-components-i-signature-index-pdl50",rangeRow:"antd-pro-pages-select-mode-components-i-signature-index-rangeRow",pdl8:"antd-pro-pages-select-mode-components-i-signature-index-pdl8",pdl14:"antd-pro-pages-select-mode-components-i-signature-index-pdl14",pdl2:"antd-pro-pages-select-mode-components-i-signature-index-pdl2",mr10:"antd-pro-pages-select-mode-components-i-signature-index-mr10",subBtn:"antd-pro-pages-select-mode-components-i-signature-index-subBtn",divDisabled:"antd-pro-pages-select-mode-components-i-signature-index-divDisabled",relative:"antd-pro-pages-select-mode-components-i-signature-index-relative",morePageErr:"antd-pro-pages-select-mode-components-i-signature-index-morePageErr",keyPageErr:"antd-pro-pages-select-mode-components-i-signature-index-keyPageErr",keyWordsSetting:"antd-pro-pages-select-mode-components-i-signature-index-keyWordsSetting",keyWordsSettingText:"antd-pro-pages-select-mode-components-i-signature-index-keyWordsSettingText",stampBox:"antd-pro-pages-select-mode-components-i-signature-index-stampBox",stampImage:"antd-pro-pages-select-mode-components-i-signature-index-stampImage",stampName:"antd-pro-pages-select-mode-components-i-signature-index-stampName",stampWrongText:"antd-pro-pages-select-mode-components-i-signature-index-stampWrongText",stampWrongIcon:"antd-pro-pages-select-mode-components-i-signature-index-stampWrongIcon",sealActive:"antd-pro-pages-select-mode-components-i-signature-index-sealActive",ukeySelectList:"antd-pro-pages-select-mode-components-i-signature-index-ukeySelectList",ukeyFooter:"antd-pro-pages-select-mode-components-i-signature-index-ukeyFooter",subBtnCol:"antd-pro-pages-select-mode-components-i-signature-index-subBtnCol",verifyMsg:"antd-pro-pages-select-mode-components-i-signature-index-verifyMsg",backBtn:"antd-pro-pages-select-mode-components-i-signature-index-backBtn",pageSetting:"antd-pro-pages-select-mode-components-i-signature-index-pageSetting",loginInfo:"antd-pro-pages-select-mode-components-i-signature-index-loginInfo",over:"antd-pro-pages-select-mode-components-i-signature-index-over"}},xLam:function(e,t,a){e.exports={platform:"antd-pro-pages-platform-index-platform",error:"antd-pro-pages-platform-index-error",refresh:"antd-pro-pages-platform-index-refresh",form:"antd-pro-pages-platform-index-form",formItem:"antd-pro-pages-platform-index-formItem",refreshIcon:"antd-pro-pages-platform-index-refreshIcon",formBtn:"antd-pro-pages-platform-index-formBtn",pinError:"antd-pro-pages-platform-index-pinError",ukeySelectList:"antd-pro-pages-platform-index-ukeySelectList",stampBox:"antd-pro-pages-platform-index-stampBox",stampImage:"antd-pro-pages-platform-index-stampImage",stampName:"antd-pro-pages-platform-index-stampName",stampWrongText:"antd-pro-pages-platform-index-stampWrongText",stampWrongIcon:"antd-pro-pages-platform-index-stampWrongIcon",sealActive:"antd-pro-pages-platform-index-sealActive",divDisabled:"antd-pro-pages-platform-index-divDisabled",iframeContainer:"antd-pro-pages-platform-index-iframeContainer",iframeContainer1:"antd-pro-pages-platform-index-iframeContainer1",iframe:"antd-pro-pages-platform-index-iframe",radioGroup:"antd-pro-pages-platform-index-radioGroup",radio:"antd-pro-pages-platform-index-radio",frontPage:"antd-pro-pages-platform-index-frontPage",mode:"antd-pro-pages-platform-index-mode",personImg:"antd-pro-pages-platform-index-personImg",toolbar:"antd-pro-pages-platform-index-toolbar",accountSwitch:"antd-pro-pages-platform-index-accountSwitch",errorTips:"antd-pro-pages-platform-index-errorTips",switch:"antd-pro-pages-platform-index-switch",switchText:"antd-pro-pages-platform-index-switchText",refreshItem:"antd-pro-pages-platform-index-refreshItem"}}}]);