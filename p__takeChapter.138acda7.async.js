(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{SzLQ:function(e,a,t){e.exports={takeChapterPage:"antd-pro-pages-take-chapter-index-takeChapterPage",takeChapterHeader:"antd-pro-pages-take-chapter-index-takeChapterHeader",close:"antd-pro-pages-take-chapter-index-close",morePage:"antd-pro-pages-take-chapter-index-morePage",imgBox:"antd-pro-pages-take-chapter-index-imgBox",radioBox:"antd-pro-pages-take-chapter-index-radioBox",stampCard:"antd-pro-pages-take-chapter-index-stampCard",takeChapterSelect:"antd-pro-pages-take-chapter-index-takeChapterSelect",selectBox:"antd-pro-pages-take-chapter-index-selectBox",vip1:"antd-pro-pages-take-chapter-index-vip1",vip2:"antd-pro-pages-take-chapter-index-vip2",vip3:"antd-pro-pages-take-chapter-index-vip3",vip4:"antd-pro-pages-take-chapter-index-vip4",vip5:"antd-pro-pages-take-chapter-index-vip5",vip6:"antd-pro-pages-take-chapter-index-vip6",vip7:"antd-pro-pages-take-chapter-index-vip7",notVip:"antd-pro-pages-take-chapter-index-notVip",notRealOrg:"antd-pro-pages-take-chapter-index-notRealOrg",takeChapterFooter:"antd-pro-pages-take-chapter-index-takeChapterFooter",footerTip:"antd-pro-pages-take-chapter-index-footerTip",spanBlock:"antd-pro-pages-take-chapter-index-spanBlock",takeChapterBody:"antd-pro-pages-take-chapter-index-takeChapterBody",loader:"antd-pro-pages-take-chapter-index-loader",loadingK:"antd-pro-pages-take-chapter-index-loadingK","k-loadingM":"antd-pro-pages-take-chapter-index-k-loadingM",loadingL:"antd-pro-pages-take-chapter-index-loadingL","k-loadingN":"antd-pro-pages-take-chapter-index-k-loadingN",circle:"antd-pro-pages-take-chapter-index-circle","circle-before":"antd-pro-pages-take-chapter-index-circle-before","circle-after":"antd-pro-pages-take-chapter-index-circle-after",stampName:"antd-pro-pages-take-chapter-index-stampName",toStampBtn:"antd-pro-pages-take-chapter-index-toStampBtn",loadBox:"antd-pro-pages-take-chapter-index-loadBox",loadSpin:"antd-pro-pages-take-chapter-index-loadSpin",pageRange_1:"antd-pro-pages-take-chapter-index-pageRange_1",morePageErrTip:"antd-pro-pages-take-chapter-index-morePageErrTip",pageSelect:"antd-pro-pages-take-chapter-index-pageSelect",pageRange:"antd-pro-pages-take-chapter-index-pageRange",takeSelects:"antd-pro-pages-take-chapter-index-takeSelects",selectOption:"antd-pro-pages-take-chapter-index-selectOption",pageListInput:"antd-pro-pages-take-chapter-index-pageListInput",specifyPageInput:"antd-pro-pages-take-chapter-index-specifyPageInput",errTip:"antd-pro-pages-take-chapter-index-errTip",toBuy:"antd-pro-pages-take-chapter-index-toBuy",pagaSettingBtn:"antd-pro-pages-take-chapter-index-pagaSettingBtn",settingIco:"antd-pro-pages-take-chapter-index-settingIco"}},sbOO:function(e,a,t){"use strict";t.r(a);t("+L6B");var n=t("2/Rp"),r=(t("5NDa"),t("5rEg")),c=(t("7Kak"),t("9yH6")),l=t("qLMh"),i=t("9og8"),o=t("tJVT"),s=(t("OaEy"),t("2fM7")),p=t("q1tI"),u=t.n(p),d=t("Ty5D"),g=t("/MKj"),m=t("0NbB"),b=t("VTBJ"),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},f=h,k=t("6VBw"),v=function(e,a){return p["createElement"](k["a"],Object(b["a"])(Object(b["a"])({},e),{},{ref:a,icon:f}))},S=p["forwardRef"](v);var O=S,x=t("zueq"),j=t("+n12"),E=t("Tex+"),y=t("uo6C"),N=t("SzLQ"),w=t.n(N),C=t("1Mg5"),B=t("ntyT"),I=t("WeR4"),T=t("z0WU"),P=s["a"].Option,L=function(e){var a=e.dispatch,t=e.state,d=Object(T["g"])(),g=t.orgSeals,b=t.networkStatus,h=Object(p["useState"])(null),f=Object(o["a"])(h,2),k=f[0],v=f[1],S=Object(p["useState"])(null),N=Object(o["a"])(S,2),L=N[0],R=N[1],M=Object(p["useState"])(null),A=Object(o["a"])(M,2),z=A[0],J=A[1],V=Object(p["useState"])(null),U=Object(o["a"])(V,2),D=U[0],G=U[1],_=Object(p["useState"])(!1),F=Object(o["a"])(_,2),K=F[0],q=F[1],H=Object(p["useState"])(2),Q=Object(o["a"])(H,2),W=Q[0],Y=Q[1],X=Object(p["useState"])(null),Z=Object(o["a"])(X,2),$=Z[0],ee=Z[1],ae=Object(p["useState"])(0),te=Object(o["a"])(ae,2),ne=te[0],re=te[1],ce=Object(p["useState"])(!1),le=Object(o["a"])(ce,2),ie=le[0],oe=le[1],se=Object(p["useState"])(null),pe=Object(o["a"])(se,2),ue=pe[0],de=pe[1],ge=Object(p["useState"])(null),me=Object(o["a"])(ge,2),be=me[0],he=me[1],fe=Object(p["useState"])(null),ke=Object(o["a"])(fe,2),ve=ke[0],Se=ke[1],Oe=Object(p["useState"])(null),xe=Object(o["a"])(Oe,2),je=xe[0],Ee=xe[1],ye=Object(p["useState"])(!0),Ne=Object(o["a"])(ye,2),we=Ne[0],Ce=Ne[1],Be=Object(p["useState"])(null),Ie=Object(o["a"])(Be,2),Te=Ie[0],Pe=Ie[1],Le=Object(p["useState"])(null),Re=Object(o["a"])(Le,2),Me=Re[0],Ae=Re[1],ze=Object(p["useState"])(!1),Je=Object(o["a"])(ze,2),Ve=Je[0],Ue=Je[1],De=Object(p["useState"])(0),Ge=Object(o["a"])(De,2),_e=Ge[0],Fe=Ge[1],Ke=Object(p["useState"])(!1),qe=Object(o["a"])(Ke,2),He=qe[0],Qe=qe[1],We=Object(p["useState"])(null),Ye=Object(o["a"])(We,2),Xe=Ye[0],Ze=Ye[1],$e=Object(p["useState"])({singleSidesSplit:1,pageOddOrEven:0,unilateralPagesMode:6,straddleScale:null,straddleStr:null}),ea=Object(o["a"])($e,2),aa=ea[0],ta=ea[1],na=Object(p["useRef"])(null),ra=function(e,a){eSign.invoke("sensors","v1","SensorsClientBuy","\u7b7e\u7ae0",e,a).then((function(e){eSign.invoke("browser","v1","OpenUrl","https://web.esign.cn/workspace/home",""),eSign.invoke("home","v1","SetShowSealState",1)}))},ca=function(){var e=Object(i["a"])(Object(l["a"])().mark((function e(a,t,n,r){var c,i,o,s,p,d,g,m,b;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=Object(j["Y"])(t),v(t),i=null,o=!0,i=null!=n?n:L,s=null,p=null,"netErr"!=a){e.next=12;break}return oe(!0),de("\u6e29\u99a8\u63d0\u793a"),he("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u786e\u4fdd\u7f51\u7edc\u901a\u4fe1\u6b63\u5e38\uff01"),e.abrupt("return",!1);case 12:if("\u767b\u5f55\u5931\u6548"!=a){e.next=18;break}return o=!1,oe(!0),de("\u6e29\u99a8\u63d0\u793a"),he("\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01"),e.abrupt("return",!1);case 18:if(i.map((function(e){if(e.orgId==t&&(p=e.orgName,!e.realName))return o=!1,Ae(u.a.createElement("span",null,"\u5f53\u524d\u4f01\u4e1a\u672a\u8ba4\u8bc1\uff0c\u4e0d\u80fd\u8fdb\u884c\u7b7e\u7f72",u.a.createElement("span",{className:w.a.toBuy,onClick:la},"\u53bb\u8ba4\u8bc1"))),!1})),a||!o){e.next=31;break}return o=!1,eSign.invoke("pdf","v1","IsCharged").then((function(e){1==e&&J(null)})),Ze(!1),e.next=25,Object(j["ib"])();case 25:return d=e.sent,g=d.data.base.ouid,eSign.invoke("pdf","v1","IsCharged").then((function(e){Ae(1==e?u.a.createElement("span",null,"\u5f53\u524d\u4f01\u4e1a\u5269\u4f59\u53ef\u7b7e\u7f72\u4efd\u65700\u4efd\uff0c\u8bf7\u8d2d\u4e70\u540e\u91cd\u65b0\u53d1\u8d77\u7b7e\u7f72",u.a.createElement("span",{className:w.a.toBuy,onClick:function(){ra(p,g)}},"\u53bb\u8d2d\u4e70")):0==c?r?"\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u53bb\u521b\u5efa\u5370\u7ae0":"\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u8054\u7cfb\u7ba1\u7406\u5458\u53bb\u521b\u5efa\u5370\u7ae0":null)})),e.abrupt("return",!1);case 31:s=!0;case 32:return e.next=34,Object(j["eb"])(t);case 34:if(m=e.sent,"{}"==JSON.stringify(m)||!s||!o){e.next=40;break}if(0!=m.autoStamp){e.next=40;break}return o=!1,Ae(r?"\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u53bb\u521b\u5efa\u5370\u7ae0":"\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u8054\u7cfb\u7ba1\u7406\u5458\u53bb\u521b\u5efa\u5370\u7ae0"),e.abrupt("return",!1);case 40:if("{}"!=JSON.stringify(m)||!s||!o){e.next=44;break}return o=!1,Ae(r?"\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u53bb\u521b\u5efa\u5370\u7ae0":"\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u8054\u7cfb\u7ba1\u7406\u5458\u53bb\u521b\u5efa\u5370\u7ae0"),e.abrupt("return",!1);case 44:if(!m||!o){e.next=52;break}if(!(m.list instanceof Array)){e.next=52;break}if(b=!1,m.list.forEach((function(e){Object(T["n"])(e.grantType)&&(b=!0)})),b){e.next=52;break}return o=!1,Ae(r?"\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u53bb\u521b\u5efa\u5370\u7ae0":"\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u8054\u7cfb\u7ba1\u7406\u5458\u53bb\u521b\u5efa\u5370\u7ae0"),e.abrupt("return",!1);case 52:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),la=function(){eSign.invoke("home","v1","SetShowSealState",1),localStorage.setItem("fromReal",1),eSign.invoke("browser","v1","OpenUrl",d,"\u9996\u9875")},ia=function(){eSign.invoke("home","v1","SetShowSealState",1),localStorage.setItem("relPerson",1),eSign.invoke("browser","v1","OpenUrl",d,"\u9996\u9875")},oa=function(){var e=Object(i["a"])(Object(l["a"])().mark((function e(){var t,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["L"])();case 2:t=e.sent,n=null,eSign.invoke("account","v1","GetAccountInfo").then((function(e){var r="",c="";if(e&&(r=JSON.parse(e).compony,c=JSON.parse(e).person),!c.realName)return r.forEach((function(e,a){e.useVipCode&&(r[a].level=Object(T["d"])(e.vipCode))})),R(r),void Ae(u.a.createElement("span",null,"\u60a8\u8fd8\u672a\u5b9e\u540d\u8ba4\u8bc1\uff0c\u4e0d\u80fd\u8fdb\u884c\u7b7e\u7f72\uff0c\u8bf7\u5b8c\u6210\u4e2a\u4eba\u5b9e\u540d\u8ba4\u8bc1",u.a.createElement("span",{className:w.a.toBuy,onClick:ia},"\u53bb\u5b9e\u540d")));if(0==r.length&&(R(r),Ae("\u60a8\u672a\u52a0\u5165\u4efb\u4f55\u4f01\u4e1a\uff0c\u8bf7\u524d\u5f80\u9996\u9875\u5b8c\u6210\u521b\u5efa/\u52a0\u5165\u4f01\u4e1a")),r&&r instanceof Array)if(r.length>0){var o=[];r.map((function(e){o.push(e.orgId),t==e.orgId&&(n=t,e.realName||Ae(u.a.createElement("span",null,"\u5f53\u524d\u4f01\u4e1a\u672a\u8ba4\u8bc1\uff0c\u4e0d\u80fd\u8fdb\u884c\u7b7e\u7f72",u.a.createElement("span",{className:w.a.toBuy,onClick:la},"\u53bb\u8ba4\u8bc1")))),eSign.invoke("pdf","v1","GetCurSelectedOrg").then((function(e){0!=e.length?(n=e,Qe(!0)):Qe(!1)}))})),n||(r[0].realName||Ae(u.a.createElement("span",null,"\u5f53\u524d\u4f01\u4e1a\u672a\u8ba4\u8bc1\uff0c\u4e0d\u80fd\u8fdb\u884c\u7b7e\u7f72",u.a.createElement("span",{className:w.a.toBuy,onClick:la},"\u53bb\u8ba4\u8bc1"))),n=r[0].orgId),Object(B["B"])({userIdList:o}).then((function(e){0===e.code&&(e.data.forEach((function(e,a){r[a].level=e.useVipCode?Object(T["d"])(e.vipCode):e.level})),R(r))})),n!=Te&&Te||(Ce(!0),Pe(n)),Object(j["bb"])(n).then(function(){var e=Object(i["a"])(Object(l["a"])().mark((function e(t){var c,i,o,s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return c=null,i=t.hasAdmin,e.next=6,Object(j["eb"])(n);case 6:o=e.sent,s=!1,o.list instanceof Array&&o.list.forEach((function(e,a){Object(T["n"])(e.grantType)&&(s=!0)})),0!=t.margin&&s&&Ae(u.a.createElement("span",{className:w.a.spanBlock},"\u5f53\u524d\u4f01\u4e1a\u53ef\u7b7e\u7f72\u4efd\u6570",u.a.createElement("b",{style:{color:"#E63740",margin:"0 4px"}},t.margin?t.margin:0),"\u4efd")),c=t.unlimitNum?"\u6c38\u4e45":t.margin,eSign.invoke("pdf","v1","IsCharged").then((function(e){c?a({type:"indexPageModel/getTakerOrgStamp",payload:{orgOid:n}}):1==e?J(null):a({type:"indexPageModel/getTakerOrgStamp",payload:{orgOid:n}})})),ca(c,n,r,i),v(n);case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}else R(r)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(p["useEffect"])((function(){oa()}),[]),Object(p["useEffect"])((function(){J(g),Ce(!0),null!=g&&(-1!=g.findIndex((function(e){return 1==e.usePermission&&1==e.grantType}))?Ze(!0):Ze(!1))}),[g]);var sa=function(e){G(e.target.value),Se(e.target.value),1==W&&1==_e?null==$&&Ee("\u8bf7\u8f93\u5165\u9875\u9762\u8303\u56f4"):Ee(null)},pa=!0,ua=function(){var e=Object(i["a"])(Object(l["a"])().mark((function e(){var a,t,n,r,c,i,o,s,p,u,d,g,m,b;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=!0,pa){e.next=6;break}return a=!1,e.abrupt("return");case 6:pa=!1;case 7:if(D){e.next=13;break}return pa=!0,oe(!0),de("\u6e29\u99a8\u63d0\u793a"),he("\u8bf7\u5148\u9009\u62e9\u5370\u7ae0\uff01"),e.abrupt("return",!1);case 13:return t=null,z.map((function(e){e.sealId==D&&(t=Object(j["h"])(e))})),e.next=17,Object(j["ib"])();case 17:if(n=e.sent,r=null,!n){e.next=23;break}r=n.data.base.ouid,e.next=29;break;case 23:return pa=!0,oe(!0),de("\u6e29\u99a8\u63d0\u793a"),he("\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01"),a=!1,e.abrupt("return",!1);case 29:return t.ouid=r,e.next=32,Object(j["M"])(n.data.base.accountUid);case 32:return c=e.sent,e.next=35,Object(j["L"])();case 35:if(i=e.sent,o=null,s=null,i?(c.map((function(e){i==e.orgId&&(o=i,s=e.orgName)})),o||(o=c[0].orgId,s=c[0].orgName)):(o=c[0].orgId,s=c[0].orgName),t.org_name=s,t.esigntype=Number(Object(j["n"])(W)),t.esealmode=W,p=null,u=null,1!=W){e.next=55;break}if(1!=_e){e.next=52;break}if(u=$,null!=$&&""!=$){e.next=50;break}return Ee("\u8bf7\u8f93\u5165\u9875\u9762\u8303\u56f4"),e.abrupt("return",!1);case 50:e.next=53;break;case 52:u=null;case 53:e.next=56;break;case 55:3==W&&(d=null,0==aa.singleSidesSplit?(g=100-aa.straddleStr,d=aa.straddleStr?"".concat(aa.straddleStr,",").concat(g):"50,50"):d=aa.straddleScale?aa.straddleScale:"",p=aa.pageOddOrEven,t.straddleScale=d,t.SingleSidesSplit=String(aa.singleSidesSplit));case 56:return t.pagerange=u,t.orgId=o,t.straddlePage=String(p),t.userId=n.data.loginInfo.idcard.mobile,e.next=62,Object(j["S"])(t.oid,t.sealId);case 62:m=e.sent,b=new Image,b.src=m,b.onload=function(){var e=document.createElement("canvas");e.width=b.width,e.height=b.height;var n=e.getContext("2d");n.drawImage(b,0,0,b.width,b.height);var r=e.toDataURL("image/png");t.imgBase64=r,a&&(t.width=Object(j["pb"])(t.width),t.height=Object(j["pb"])(t.height),eSign.invoke("account","v1","SetSealInfo",JSON.stringify(t)),eSign.invoke("home","v1","SetShowSealState",0).then((function(){Se(null),v(null),Ee(null),ee(null),G(null),Ce(!1)})),pa=!0)};case 66:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(p["useEffect"])((function(){700==b&&(oe(!0),de("\u6e29\u99a8\u63d0\u793a"),he("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u786e\u4fdd\u7f51\u7edc\u901a\u4fe1\u6b63\u5e38\uff01"),pa=!0)}),[b]);var da=function(e){Fe(e.target.value),1==e.target.value?null==$&&Ee("\u8bf7\u8f93\u5165\u9875\u9762\u8303\u56f4"):Ee(null)},ga=function(){var e=Object(i["a"])(Object(l["a"])().mark((function e(t){var n,r;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Pe(t),e.next=3,Object(j["lb"])(t);case 3:return n=e.sent,r=null,e.next=7,a({type:"indexPageModel/saveOrgId",payload:{orgId:t}});case 7:return e.next=9,a({type:"indexPageModel/getTakerOrgStamp",payload:{orgOid:t}});case 9:Object(j["bb"])(t).then(function(){var e=Object(i["a"])(Object(l["a"])().mark((function e(a){var n,c;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=a.hasAdmin,0==a.margin){e.next=8;break}return e.next=4,Object(j["eb"])(t);case 4:n=e.sent,c=!1,n.list instanceof Array&&n.list.forEach((function(e){Object(T["n"])(e.grantType)&&(c=!0)})),c&&Ae(u.a.createElement("span",{className:w.a.spanBlock},"\u5f53\u524d\u4f01\u4e1a\u53ef\u7b7e\u7f72\u4efd\u6570",u.a.createElement("b",{style:{color:"#E63740",margin:"0 4px"}},a.margin?a.margin:0),"\u4efd"));case 8:a.hasAdmin&&null!=z&&0==z.length&&Ae("\u5f53\u524d\u65e0\u53ef\u7528\u5370\u7ae0\uff0c\u53bb\u521b\u5efa\u5370\u7ae0");case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),n?"netErr"==n&&(oe(!0),de("\u6e29\u99a8\u63d0\u793a"),he("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u786e\u4fdd\u7f51\u7edc\u901a\u4fe1\u6b63\u5e38\uff01")):eSign.invoke("pdf","v1","IsCharged").then((function(e){1==e&&J(null)})),Object(j["sb"])(t),ca(n,t,null,r),G(null),Se(null);case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ma=function(){return u.a.createElement("div",{className:"".concat(w.a.loader," ").concat(w.a.circle)})};window.closeTakeChapter=function(){G(null),Se(null),v(null),Ee(null),ee(null),Ce(!1),Ue(!1),setTimeout((function(){eSign.invoke("home","v1","SetShowSealState",1)}),300)};var ba=function(e){var a=e.target.value;ee(a);var t=Object(j["f"])(a,ne);Ee(t)},ha=function(){oe(!1),"\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01"==be&&(eSign.invoke("account","v1","SetAccountInfo",""),eSign.invoke("account","v1","LoginStatue",1).then((function(){localStorage.clear(),eSign.invoke("home","v1","SetShowSealState",1)})))},fa=function(){oe(!1),"\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01"==be&&(eSign.invoke("account","v1","SetAccountInfo",""),eSign.invoke("account","v1","LoginStatue",1).then((function(){localStorage.clear(),eSign.invoke("home","v1","SetShowSealState",1)})))};window.initTakeChapter=function(){var e=Object(i["a"])(Object(l["a"])().mark((function e(a,t){var n,r,c;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Ae(null),Y(a),re(t),oe(!1),q(!1),e.next=7,Object(j["hb"])();case 7:return n=e.sent,e.next=10,oa();case 10:n||(oe(!0),de("\u6e29\u99a8\u63d0\u793a"),he("\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01")),3==a&&(r=Object(E["A"])(t,0),c=[],r&&r instanceof Array&&r.forEach((function(e){c.push(e.mix)})),ta({singleSidesSplit:1,pageOddOrEven:0,unilateralPagesMode:6,straddleScale:c.toString(),straddleStr:null}));case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();var ka=function(e){ta(e),Ue(!1)},va=function(){var e=Object(i["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ue(!0);case 2:na.current&&na.current.initForm(ne);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.createElement("div",{className:w.a.takeChapterPage,id:"takeChapterPage"},!Ve&&u.a.createElement("div",null,u.a.createElement("div",{className:w.a.takeChapterSelect,style:{marginTop:3==W?"40px":"29px"}},u.a.createElement("div",{className:"".concat(w.a.selectBox," takeSelect")},u.a.createElement("span",null,"\u9009\u62e9\u4f01\u4e1a\uff1a"),u.a.createElement(s["a"],{open:K,onBlur:function(){q(!1)},suffixIcon:u.a.createElement(m["a"],{onClick:function(){q(!K)},style:{color:"#333"}}),onClick:function(e){q(!K),e.stopPropagation(),e.preventDefault()},disabled:He,className:w.a.takeSelects,value:k,onChange:ga,popupClassName:"takeChapterDrop"},L&&L.map((function(e,a){return u.a.createElement(P,{key:a,value:e.orgId,className:w.a.selectOption},e.realName&&u.a.createElement("div",{className:"vip vip".concat(e.level)},u.a.createElement("span",{className:w.a.orgName},e.orgName)),!e.realName&&u.a.createElement("div",{className:"notRealOrg"},e.orgName),e.realName&&"null"==e.level&&u.a.createElement("span",{className:"notVip"},u.a.createElement("span",null,e.orgName)))}))),3==W&&u.a.createElement("span",{onClick:va,className:w.a.pagaSettingBtn},u.a.createElement(O,{className:w.a.settingIco}),"\u9a91\u7f1d\u7ae0\u8bbe\u7f6e"))),Me&&u.a.createElement("div",{className:w.a.errTip,style:{top:3==W?"80px":"68px"}},u.a.createElement(x["a"],{style:{color:"#E63740",dispaly:"inline-block",marginRight:"4px"}}),Me),u.a.createElement("div",{className:w.a.takeChapterBody,style:{height:1==W?"210px":"240px"}},we&&u.a.createElement(c["a"].Group,{value:ve,onChange:sa,className:"takeChapterRG_2",buttonStyle:"solid"},Xe&&u.a.createElement("span",{style:{fontSize:"14px",position:"absolute",left:"32px"}},"\u9009\u62e9\u5370\u7ae0\uff1a"),z&&z.map((function(e,a){if(e.usePermission&&Object(T["n"])(e.grantType))return u.a.createElement("div",{className:w.a.radioBox,key:a},u.a.createElement(c["a"].Button,{value:e.sealId},u.a.createElement("div",{className:w.a.stampCard},u.a.createElement("div",{className:w.a.imgBox},u.a.createElement(y["a"],{resize:!0,scrollContainer:document.getElementById("root"),debounce:200,offset:50,loading:u.a.createElement(ma,null),key:a},u.a.createElement("img",{src:e.previewUrl}))),u.a.createElement("span",{className:w.a.stampName},e.alias))))})))),1==W&&u.a.createElement("div",{className:w.a.pageRange_1},u.a.createElement("div",null,"\u9875\u9762\u8303\u56f4\uff1a",u.a.createElement(c["a"].Group,{onChange:da,value:_e,style:{margin:"8px 0 16px"}},u.a.createElement(c["a"],{value:0},"\u5168\u90e8\u9875\u9762"),u.a.createElement(c["a"],{value:1},"\u5176\u5b83\u9875\u9762"),1==_e&&u.a.createElement("span",null,u.a.createElement(r["a"],{onChange:ba,value:$,className:w.a.pageListInput}),u.a.createElement("span",{style:{fontSize:"12px"}},"\u5982:1,2,3-5"),je&&u.a.createElement("span",{className:w.a.morePageErrTip},je))))),u.a.createElement("div",{className:w.a.takeChapterFooter},u.a.createElement("div",{className:w.a.footerTip},u.a.createElement("span",{className:w.a.spanBlock},u.a.createElement(x["a"],{style:{color:"#E63740",dispaly:"inline-block",marginRight:"4px"}}),"\u786e\u8ba4\u7b7e\u7ae0\u63d0\u4ea4\u6210\u529f\u540e\uff0c\u6263\u9664\u7b7e\u7ae0\u4f01\u4e1a\u5bf9\u5e94\u7684\u5408\u540c\u4efd\u6570",u.a.createElement("b",{style:{color:"#E63740",margin:"0 4px"}},"1"),"\u4efd")),u.a.createElement(n["a"],{className:w.a.toStampBtn,disabled:!((D||ve)&&!je),type:"primary",onClick:ua},"\u786e\u5b9a")),u.a.createElement(C["a"],{visible:ie,handleOk:ha,handleCancel:fa,content:be,title:ue})),3==W&&Ve&&u.a.createElement(I["a"],{onRef:na,getPagationData:ka}))};a["default"]=Object(g["c"])((function(e){var a=e.indexPageModel;return{state:a}}))(Object(d["n"])(L))}}]);