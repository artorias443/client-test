(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"3aEt":function(e,a,t){"use strict";t.r(a);var n=t("tJVT"),l=(t("OaEy"),t("2fM7")),i=t("q1tI"),s=t.n(i),c=t("9kvl"),r=t("Ty5D"),o=t("0NbB"),d=t("+n12"),m=t("63EG"),p=t.n(m),g=t("uo6C"),u=l["a"].Option,f=function(e){var a=e.dispatch,t=e.state,r=e.location.query,m=Object(c["f"])(),f=function(e){return m.formatMessage({id:e})};document.title="\u5370\u7ae0\u8be6\u60c5";var v=t.orgId,E=t.orgSeals,b=t.orgData,x=Object(i["useState"])(null),O=Object(n["a"])(x,2),N=O[0],I=O[1],y=Object(i["useState"])(null),S=Object(n["a"])(y,2),j=S[0],h=S[1],D=Object(i["useState"])(null),P=Object(n["a"])(D,2),k=P[0],w=P[1],C=Object(i["useState"])(!1),L=Object(n["a"])(C,2),M=L[0],T=L[1],B=Object(i["useState"])(!1),z=Object(n["a"])(B,2),q=z[0],H=z[1],J=function(){document.body.style.background="#f7f7f7",document.body.style.overflow="hidden"},U=function(){return s.a.createElement("div",{className:"".concat(p.a.loader," ").concat(p.a.circle)})};Object(i["useEffect"])((function(){var e=localStorage.getItem("orgData");if(b||e){var t=b||JSON.parse(e);w(r.orgId);var n=t.bizUserInfoOutputs.length;if(n>0){var l=0;t.bizUserInfoOutputs.map((function(e){Object(d["cb"])(e.orgId).then((function(a){l++,e.vipLevel=a.level,l==n&&h(t.bizUserInfoOutputs)}))}))}}else a({type:"indexPageModel/saveOrgId",payload:{orgId:""}}),h(null)}),[b]),J(),Object(i["useEffect"])((function(){(v||r.orgId)&&a({type:"indexPageModel/getOrgStamp",payload:{orgOid:v||r.orgId}})}),[v]),Object(i["useEffect"])((function(){a({type:"indexPageModel/userInfo"})}),[]),Object(i["useEffect"])((function(){if(I(E),E){var e=[];E.forEach((function(a){a.usePermission&&e.push(a)})),T(0==e.length)}}),[E]);var V=function(e){switch(e){case 1:return"\u4f01\u4e1a\u5370\u7ae0";case 2:return"\u8de8\u4f01\u4e1a\u6388\u6743\u5370\u7ae0";default:return"\u975e\u6cd5\u5370\u7ae0"}},R=function(e){a({type:"indexPageModel/getOrgStamp",payload:{orgOid:e}}),w(e)};return s.a.createElement("div",{className:"".concat(p.a.stampDetailPage," stampDetailPageAll")},s.a.createElement("div",{className:p.a.stampHeader},s.a.createElement("span",null,f("center.AffiliatedOrg")),j&&k&&s.a.createElement(l["a"],{className:"stampDetailSelect",dropdownClassName:"selectStampDetail",onBlur:function(){H(!1)},open:q,suffixIcon:s.a.createElement(o["a"],{onClick:function(){H(!q)},style:{color:"#333"}}),onClick:function(e){H(!q),e.stopPropagation(),e.preventDefault()},value:k,onChange:R},j.map((function(e,a){return s.a.createElement(u,{key:"stamp".concat(a),value:e.orgId},e.realName&&s.a.createElement("span",{className:e.vipLevel?"vipLevel vip".concat(e.vipLevel):p.a.notVip},s.a.createElement("span",null,e.orgName)),!e.realName&&s.a.createElement("span",{className:p.a.notRealOrg},s.a.createElement("span",null,e.orgName)))})))),s.a.createElement("div",{className:p.a.cardBody},N&&N.map((function(e,a){if(e.usePermission)return s.a.createElement("div",{key:a,className:p.a.stampCard},s.a.createElement("div",{className:p.a.stampPic},s.a.createElement(g["a"],{resize:!0,scrollContainer:document.getElementById("root"),debounce:200,offset:50,loading:s.a.createElement(U,null),key:a},s.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:e.previewUrl}))),s.a.createElement("div",{className:p.a.stampContent},s.a.createElement("div",{className:"".concat(p.a.contentItem," ").concat(p.a.contentItemSpe)},s.a.createElement("span",null,e.alias?e.alias:"\u672a\u77e5\u540d\u7ae0")),s.a.createElement("div",{className:p.a.contentItem},s.a.createElement("div",{className:p.a.itemLabel},f("center.sealType"),"\uff1a"),s.a.createElement("div",{className:p.a.itemDesc},V(e.grantType))),s.a.createElement("div",{className:p.a.contentItem},s.a.createElement("div",{className:p.a.itemLabel},f("center.sealNo"),"\uff1a"),s.a.createElement("div",{className:p.a.itemDesc},e.sealId)),s.a.createElement("div",{className:p.a.contentItem},s.a.createElement("div",{className:p.a.itemLabel},f("center.drawingSize"),"\uff1a"),s.a.createElement("div",{className:p.a.itemDesc},Object(d["qb"])(e.width)+"mm"," * ",Object(d["qb"])(e.height)+"mm"))))})),M&&s.a.createElement("div",null,s.a.createElement("div",{className:p.a.noStamp}),s.a.createElement("div",{className:p.a.noStampText},f("center.noSeal")))))};a["default"]=Object(c["a"])((function(e){var a=e.indexPageModel;return{state:a}}))(Object(r["n"])(f))},"63EG":function(e,a,t){e.exports={stampDetailPage:"antd-pro-pages-stamp-detail-index-stampDetailPage",stampHeader:"antd-pro-pages-stamp-detail-index-stampHeader",cardBody:"antd-pro-pages-stamp-detail-index-cardBody",loader:"antd-pro-pages-stamp-detail-index-loader",loadingK:"antd-pro-pages-stamp-detail-index-loadingK","k-loadingM":"antd-pro-pages-stamp-detail-index-k-loadingM",loadingL:"antd-pro-pages-stamp-detail-index-loadingL","k-loadingN":"antd-pro-pages-stamp-detail-index-k-loadingN",circle:"antd-pro-pages-stamp-detail-index-circle","circle-before":"antd-pro-pages-stamp-detail-index-circle-before","circle-after":"antd-pro-pages-stamp-detail-index-circle-after",stampCard:"antd-pro-pages-stamp-detail-index-stampCard",stampPic:"antd-pro-pages-stamp-detail-index-stampPic",stampContent:"antd-pro-pages-stamp-detail-index-stampContent",contentItem:"antd-pro-pages-stamp-detail-index-contentItem",itemLabel:"antd-pro-pages-stamp-detail-index-itemLabel",itemDesc:"antd-pro-pages-stamp-detail-index-itemDesc",contentItemSpe:"antd-pro-pages-stamp-detail-index-contentItemSpe",notRealOrg:"antd-pro-pages-stamp-detail-index-notRealOrg",vip:"antd-pro-pages-stamp-detail-index-vip",notVip:"antd-pro-pages-stamp-detail-index-notVip",noStamp:"antd-pro-pages-stamp-detail-index-noStamp",noStampText:"antd-pro-pages-stamp-detail-index-noStampText"}}}]);